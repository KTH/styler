{
    "error_id": "372",
    "information": {
        "errors": [
            {
                "line": "52",
                "column": "29",
                "severity": "warning",
                "message": "',' is not followed by whitespace.",
                "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.WhitespaceAfterCheck"
            }
        ]
    },
    "source_code": "        ValueArray[] values = new ValueArray[distinctValues.size()];\n        int i = 0;\n        for (Map.Entry<Value,AggregateDataHistogram> entry : distinctValues.entries()) {\n            AggregateDataHistogram d = entry.getValue();\n            values[i] = ValueArray.get(new Value[] { entry.getKey(), ValueLong.get(d.count) });\n            i++;",
    "results": [
        {
            "tool": "styler",
            "errors": [],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/errored/1/372/AggregateDataHistogram.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/styler/372/AggregateDataHistogram.java\nindex f48d2f1765..191aa2ca7b 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/errored/1/372/AggregateDataHistogram.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/styler/372/AggregateDataHistogram.java\n@@ -49,7 +49,7 @@ class AggregateDataHistogram extends AggregateData {\n         }\n         ValueArray[] values = new ValueArray[distinctValues.size()];\n         int i = 0;\n-        for (Map.Entry<Value,AggregateDataHistogram> entry : distinctValues.entries()) {\n+        for (Map.Entry<Value, AggregateDataHistogram> entry : distinctValues.entries()) {\n             AggregateDataHistogram d = entry.getValue();\n             values[i] = ValueArray.get(new Value[] { entry.getKey(), ValueLong.get(d.count) });\n             i++;\n",
            "diff_size": 1
        },
        {
            "tool": "intellij",
            "errors": [],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/errored/1/372/AggregateDataHistogram.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/intellij/372/AggregateDataHistogram.java\nindex f48d2f1765..feb873606a 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/errored/1/372/AggregateDataHistogram.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/intellij/372/AggregateDataHistogram.java\n@@ -3,6 +3,7 @@\n  * and the EPL 1.0 (http://h2database.com/html/license.html).\n  * Initial Developer: H2 Group\n  */\n+\n package org.h2.expression;\n \n import java.util.Arrays;\n@@ -21,61 +22,63 @@ import org.h2.value.ValueLong;\n  * Data stored while calculating a HISTOGRAM aggregate.\n  */\n class AggregateDataHistogram extends AggregateData {\n-    private long count;\n-    private ValueHashMap<AggregateDataHistogram> distinctValues;\n+  private long count;\n+  private ValueHashMap<AggregateDataHistogram> distinctValues;\n \n-    @Override\n-    void add(Database database, int dataType, boolean distinct, Value v) {\n-        if (distinctValues == null) {\n-            distinctValues = ValueHashMap.newInstance();\n-        }\n-        AggregateDataHistogram a = distinctValues.get(v);\n-        if (a == null) {\n-            if (distinctValues.size() < Constants.SELECTIVITY_DISTINCT_COUNT) {\n-                a = new AggregateDataHistogram();\n-                distinctValues.put(v, a);\n-            }\n-        }\n-        if (a != null) {\n-            a.count++;\n-        }\n+  @Override\n+  void add(Database database, int dataType, boolean distinct, Value v) {\n+    if (distinctValues == null) {\n+      distinctValues = ValueHashMap.newInstance();\n+    }\n+    AggregateDataHistogram a = distinctValues.get(v);\n+    if (a == null) {\n+      if (distinctValues.size() < Constants.SELECTIVITY_DISTINCT_COUNT) {\n+        a = new AggregateDataHistogram();\n+        distinctValues.put(v, a);\n+      }\n+    }\n+    if (a != null) {\n+      a.count++;\n     }\n+  }\n \n-    @Override\n-    Value getValue(Database database, int dataType, boolean distinct) {\n-        if (distinct) {\n-            count = 0;\n-            groupDistinct(database, dataType);\n-        }\n-        ValueArray[] values = new ValueArray[distinctValues.size()];\n-        int i = 0;\n-        for (Map.Entry<Value,AggregateDataHistogram> entry : distinctValues.entries()) {\n-            AggregateDataHistogram d = entry.getValue();\n-            values[i] = ValueArray.get(new Value[] { entry.getKey(), ValueLong.get(d.count) });\n-            i++;\n-        }\n-        final Mode mode = database.getMode();\n-        final CompareMode compareMode = database.getCompareMode();\n-        Arrays.sort(values, new Comparator<ValueArray>() {\n-            @Override\n-            public int compare(ValueArray v1, ValueArray v2) {\n-                Value a1 = v1.getList()[0];\n-                Value a2 = v2.getList()[0];\n-                return a1.compareTo(a2, mode, compareMode);\n-            }\n-        });\n-        Value v = ValueArray.get(values);\n-        return v.convertTo(dataType);\n+  @Override\n+  Value getValue(Database database, int dataType, boolean distinct) {\n+    if (distinct) {\n+      count = 0;\n+      groupDistinct(database, dataType);\n     }\n+    ValueArray[] values = new ValueArray[distinctValues.size()];\n+    int i = 0;\n+    for (Map.Entry<Value, AggregateDataHistogram> entry : distinctValues\n+        .entries()) {\n+      AggregateDataHistogram d = entry.getValue();\n+      values[i] =\n+          ValueArray.get(new Value[] {entry.getKey(), ValueLong.get(d.count)});\n+      i++;\n+    }\n+    final Mode mode = database.getMode();\n+    final CompareMode compareMode = database.getCompareMode();\n+    Arrays.sort(values, new Comparator<ValueArray>() {\n+      @Override\n+      public int compare(ValueArray v1, ValueArray v2) {\n+        Value a1 = v1.getList()[0];\n+        Value a2 = v2.getList()[0];\n+        return a1.compareTo(a2, mode, compareMode);\n+      }\n+    });\n+    Value v = ValueArray.get(values);\n+    return v.convertTo(dataType);\n+  }\n \n-    private void groupDistinct(Database database, int dataType) {\n-        if (distinctValues == null) {\n-            return;\n-        }\n-        count = 0;\n-        for (Value v : distinctValues.keys()) {\n-            add(database, dataType, false, v);\n-        }\n+  private void groupDistinct(Database database, int dataType) {\n+    if (distinctValues == null) {\n+      return;\n+    }\n+    count = 0;\n+    for (Value v : distinctValues.keys()) {\n+      add(database, dataType, false, v);\n     }\n+  }\n \n }\n",
            "diff_size": 75
        },
        {
            "tool": "naturalize",
            "errors": [],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/errored/1/372/AggregateDataHistogram.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/naturalize/372/AggregateDataHistogram.java\nindex f48d2f1765..2e536a287e 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/errored/1/372/AggregateDataHistogram.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/naturalize/372/AggregateDataHistogram.java\n@@ -49,7 +49,7 @@ class AggregateDataHistogram extends AggregateData {\n         }\n         ValueArray[] values = new ValueArray[distinctValues.size()];\n         int i = 0;\n-        for (Map.Entry<Value,AggregateDataHistogram> entry : distinctValues.entries()) {\n+        for (Map.Entry<Value, AggregateDataHistogram> entry : distinctValues.entries()) {\n             AggregateDataHistogram d = entry.getValue();\n             values[i] = ValueArray.get(new Value[] { entry.getKey(), ValueLong.get(d.count) });\n             i++;\n@@ -78,4 +78,4 @@ class AggregateDataHistogram extends AggregateData {\n         }\n     }\n \n-}\n+}\n\\ No newline at end of file\n",
            "diff_size": 2
        },
        {
            "tool": "codebuff",
            "errors": [],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/errored/1/372/AggregateDataHistogram.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/codebuff/372/AggregateDataHistogram.java\nindex f48d2f1765..547fbcc88e 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/errored/1/372/AggregateDataHistogram.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/codebuff/372/AggregateDataHistogram.java\n@@ -20,12 +20,17 @@ import org.h2.value.ValueLong;\n /**\n  * Data stored while calculating a HISTOGRAM aggregate.\n  */\n+\n+\n class AggregateDataHistogram extends AggregateData {\n+\n     private long count;\n     private ValueHashMap<AggregateDataHistogram> distinctValues;\n \n     @Override\n-    void add(Database database, int dataType, boolean distinct, Value v) {\n+    void add(Database database,\n+int dataType,\n+    boolean distinct, Value v) {\n         if (distinctValues == null) {\n             distinctValues = ValueHashMap.newInstance();\n         }\n@@ -49,7 +54,7 @@ class AggregateDataHistogram extends AggregateData {\n         }\n         ValueArray[] values = new ValueArray[distinctValues.size()];\n         int i = 0;\n-        for (Map.Entry<Value,AggregateDataHistogram> entry : distinctValues.entries()) {\n+        for (Map.Entry<Value, AggregateDataHistogram> entry : distinctValues.entries()) {\n             AggregateDataHistogram d = entry.getValue();\n             values[i] = ValueArray.get(new Value[] { entry.getKey(), ValueLong.get(d.count) });\n             i++;\n@@ -57,13 +62,13 @@ class AggregateDataHistogram extends AggregateData {\n         final Mode mode = database.getMode();\n         final CompareMode compareMode = database.getCompareMode();\n         Arrays.sort(values, new Comparator<ValueArray>() {\n-            @Override\n-            public int compare(ValueArray v1, ValueArray v2) {\n-                Value a1 = v1.getList()[0];\n-                Value a2 = v2.getList()[0];\n-                return a1.compareTo(a2, mode, compareMode);\n-            }\n-        });\n+@Override\n+public int compare(ValueArray v1, ValueArray v2) {\n+    Value a1 = v1.getList()[0];\n+    Value a2 = v2.getList()[0];\n+    return a1.compareTo(a2, mode, compareMode);\n+}\n+});\n         Value v = ValueArray.get(values);\n         return v.convertTo(dataType);\n     }\n@@ -78,4 +83,4 @@ class AggregateDataHistogram extends AggregateData {\n         }\n     }\n \n-}\n+}\n\\ No newline at end of file\n",
            "diff_size": 15
        },
        {
            "tool": "styler_random",
            "errors": [],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/errored/1/372/AggregateDataHistogram.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/styler_random/372/AggregateDataHistogram.java\nindex f48d2f1765..191aa2ca7b 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/errored/1/372/AggregateDataHistogram.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/styler_random/372/AggregateDataHistogram.java\n@@ -49,7 +49,7 @@ class AggregateDataHistogram extends AggregateData {\n         }\n         ValueArray[] values = new ValueArray[distinctValues.size()];\n         int i = 0;\n-        for (Map.Entry<Value,AggregateDataHistogram> entry : distinctValues.entries()) {\n+        for (Map.Entry<Value, AggregateDataHistogram> entry : distinctValues.entries()) {\n             AggregateDataHistogram d = entry.getValue();\n             values[i] = ValueArray.get(new Value[] { entry.getKey(), ValueLong.get(d.count) });\n             i++;\n",
            "diff_size": 1
        },
        {
            "tool": "styler_three_grams",
            "errors": [],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/errored/1/372/AggregateDataHistogram.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/styler_three_grams/372/AggregateDataHistogram.java\nindex f48d2f1765..191aa2ca7b 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/errored/1/372/AggregateDataHistogram.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/h2database-h2database/styler_three_grams/372/AggregateDataHistogram.java\n@@ -49,7 +49,7 @@ class AggregateDataHistogram extends AggregateData {\n         }\n         ValueArray[] values = new ValueArray[distinctValues.size()];\n         int i = 0;\n-        for (Map.Entry<Value,AggregateDataHistogram> entry : distinctValues.entries()) {\n+        for (Map.Entry<Value, AggregateDataHistogram> entry : distinctValues.entries()) {\n             AggregateDataHistogram d = entry.getValue();\n             values[i] = ValueArray.get(new Value[] { entry.getKey(), ValueLong.get(d.count) });\n             i++;\n",
            "diff_size": 1
        }
    ]
}