{
    "error_id": "977",
    "information": {
        "errors": [
            {
                "line": "99",
                "severity": "error",
                "message": "Line is longer than 100 characters (found 120).",
                "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
            }
        ]
    },
    "source_code": "        WorkerAttempt runningAttempt = worker.getRunningAttempt();\n        if(runningAttempt != null) {\n          context.getEventHandler().handle(new WorkerAttemptEvent(WorkerAttemptEventType.KILL, runningAttempt.getId()));\n        }\n      }\n    }",
    "results": [
        {
            "tool": "styler",
            "errors": [
                {
                    "line": "98",
                    "severity": "error",
                    "message": "Line is longer than 100 characters (found 147).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                }
            ],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/errored/1/977/SlowChecker.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/styler/977/SlowChecker.java\nindex 5618d1b346..c9139f6da8 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/errored/1/977/SlowChecker.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/styler/977/SlowChecker.java\n@@ -95,43 +95,42 @@ public class SlowChecker extends AbstractService {\n \n       if(worker.getAttempts().size() < worker.getMaxAttempts()) {\n         WorkerAttempt runningAttempt = worker.getRunningAttempt();\n-        if(runningAttempt != null) {\n-          context.getEventHandler().handle(new WorkerAttemptEvent(WorkerAttemptEventType.KILL, runningAttempt.getId()));\n-        }\n+        if(runningAttempt != null) { context.getEventHandler().handle(new WorkerAttemptEvent(WorkerAttemptEventType.KILL, runningAttempt.getId()));\n       }\n     }\n   }\n+}\n \n-  @Override\n-  protected void serviceInit(Configuration conf) throws Exception {\n-    if(slowCheckEnable) {\n-      String polices = conf.get(AngelConf.ANGEL_AM_SLOW_CHECK_POLICES,\n-        AngelConf.DEFAULT_ANGEL_AM_SLOW_CHECK_POLICES);\n-\n-      LOG.info(\"slow check policy list = \" + polices);\n-      String [] policyNames = polices.split(\",\");\n-      for(int i = 0; i < policyNames.length; i++) {\n-        Class<? extends CheckPolicy> policyClass =\n-          (Class<? extends CheckPolicy>) Class.forName(policyNames[i]);\n-        Constructor<? extends CheckPolicy> constructor = policyClass.getConstructor();\n-        constructor.setAccessible(true);\n-        checkPolices.add(constructor.newInstance());\n-      }\n+@Override\n+protected void serviceInit(Configuration conf) throws Exception {\n+  if(slowCheckEnable) {\n+    String polices = conf.get(AngelConf.ANGEL_AM_SLOW_CHECK_POLICES,\n+      AngelConf.DEFAULT_ANGEL_AM_SLOW_CHECK_POLICES);\n+\n+    LOG.info(\"slow check policy list = \" + polices);\n+    String [] policyNames = polices.split(\",\");\n+    for(int i = 0; i < policyNames.length; i++) {\n+      Class<? extends CheckPolicy> policyClass =\n+        (Class<? extends CheckPolicy>) Class.forName(policyNames[i]);\n+      Constructor<? extends CheckPolicy> constructor = policyClass.getConstructor();\n+      constructor.setAccessible(true);\n+      checkPolices.add(constructor.newInstance());\n     }\n   }\n+}\n \n-  @Override\n-  protected void serviceStop() throws Exception {\n-    if (stopped.getAndSet(true)) {\n-      return;\n-    }\n-    if (checker != null) {\n-      checker.interrupt();\n-      try {\n-        checker.join();\n-      } catch (InterruptedException ie) {\n-        LOG.warn(\"slow-checker interrupted while stopping\");\n-      }\n+@Override\n+protected void serviceStop() throws Exception {\n+  if (stopped.getAndSet(true)) {\n+    return;\n+  }\n+  if (checker != null) {\n+    checker.interrupt();\n+    try {\n+      checker.join();\n+    } catch (InterruptedException ie) {\n+      LOG.warn(\"slow-checker interrupted while stopping\");\n     }\n   }\n }\n+}\n",
            "diff_size": 33
        },
        {
            "tool": "intellij",
            "errors": [],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/errored/1/977/SlowChecker.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/intellij/977/SlowChecker.java\nindex 5618d1b346..47dc12b8f4 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/errored/1/977/SlowChecker.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/intellij/977/SlowChecker.java\n@@ -22,116 +22,124 @@ import java.util.concurrent.atomic.AtomicBoolean;\n  * Slow workers and pss checker.\n  */\n public class SlowChecker extends AbstractService {\n-  private static final Log LOG = LogFactory.getLog(SlowChecker.class);\n-  private final AMContext context;\n-\n-  /** check polices*/\n-  private final List<CheckPolicy> checkPolices;\n-\n-  /** enable checker or not */\n-  private final boolean slowCheckEnable;\n-  private AtomicBoolean stopped;\n-\n-  /** check interval in milliseconds*/\n-  private final int checkIntervalMs;\n-  private volatile Thread checker;\n-\n-  /**\n-   * Construct the service.\n-   */\n-  public SlowChecker(AMContext context) {\n-    super(\"slow-checker\");\n-    this.context = context;\n-    checkPolices = new ArrayList<>();\n-    slowCheckEnable = context.getConf().getBoolean(AngelConf.ANGEL_AM_SLOW_CHECK_ENABLE,\n-      AngelConf.DEFAULT_ANGEL_AM_SLOW_CHECK_ENABLE);\n-    checkIntervalMs = context.getConf().getInt(AngelConf.ANGEL_AM_SLOW_CHECK_INTERVAL_MS,\n-      AngelConf.DEFAULT_ANGEL_AM_SLOW_CHECK_INTERVAL_MS);\n-    stopped = new AtomicBoolean(false);\n-  }\n-\n-  @Override\n-  protected void serviceStart() throws Exception {\n-    LOG.info(\"slowCheckEnable = \" + slowCheckEnable + \", checkIntervalMs = \" + checkIntervalMs);\n-\n-    if(slowCheckEnable) {\n-      checker = new Thread(new Runnable() {\n-        @Override\n-        public void run() {\n-          LOG.info(\"start slow check thread\");\n-          int size = checkPolices.size();\n-          while(!stopped.get() && !Thread.interrupted()) {\n-            for(int i = 0; i < size; i++) {\n-              List<Id> slowItems = checkPolices.get(i).check(context);\n-              handleSlowItems(slowItems);\n-            }\n+    private static final Log LOG = LogFactory.getLog(SlowChecker.class);\n+    private final AMContext context;\n+\n+    /**\n+     * check polices\n+     */\n+    private final List<CheckPolicy> checkPolices;\n+\n+    /**\n+     * enable checker or not\n+     */\n+    private final boolean slowCheckEnable;\n+    private AtomicBoolean stopped;\n+\n+    /**\n+     * check interval in milliseconds\n+     */\n+    private final int checkIntervalMs;\n+    private volatile Thread checker;\n+\n+    /**\n+     * Construct the service.\n+     */\n+    public SlowChecker(AMContext context) {\n+        super(\"slow-checker\");\n+        this.context = context;\n+        checkPolices = new ArrayList<>();\n+        slowCheckEnable = context.getConf().getBoolean(AngelConf.ANGEL_AM_SLOW_CHECK_ENABLE,\n+                AngelConf.DEFAULT_ANGEL_AM_SLOW_CHECK_ENABLE);\n+        checkIntervalMs = context.getConf().getInt(AngelConf.ANGEL_AM_SLOW_CHECK_INTERVAL_MS,\n+                AngelConf.DEFAULT_ANGEL_AM_SLOW_CHECK_INTERVAL_MS);\n+        stopped = new AtomicBoolean(false);\n+    }\n \n-            try {\n-              Thread.sleep(checkIntervalMs);\n-            } catch (InterruptedException e) {\n-              LOG.warn(\"slow ps/worker checker is interrupted\");\n-            }\n-          }\n+    @Override\n+    protected void serviceStart() throws Exception {\n+        LOG.info(\"slowCheckEnable = \" + slowCheckEnable + \", checkIntervalMs = \" + checkIntervalMs);\n+\n+        if (slowCheckEnable) {\n+            checker = new Thread(new Runnable() {\n+                @Override\n+                public void run() {\n+                    LOG.info(\"start slow check thread\");\n+                    int size = checkPolices.size();\n+                    while (!stopped.get() && !Thread.interrupted()) {\n+                        for (int i = 0; i < size; i++) {\n+                            List<Id> slowItems = checkPolices.get(i).check(context);\n+                            handleSlowItems(slowItems);\n+                        }\n+\n+                        try {\n+                            Thread.sleep(checkIntervalMs);\n+                        } catch (InterruptedException e) {\n+                            LOG.warn(\"slow ps/worker checker is interrupted\");\n+                        }\n+                    }\n+                }\n+            });\n+            checker.setName(\"slow-checker\");\n+            checker.start();\n         }\n-      });\n-      checker.setName(\"slow-checker\");\n-      checker.start();\n-    }\n-  }\n-\n-  private void handleSlowItems(List<Id> slowItems) {\n-    if(slowItems != null && slowItems.isEmpty()) {\n-      int size = slowItems.size();\n-      for(int i = 0; i < size; i++) {\n-        handleSlowItem(slowItems.get(i));\n-      }\n     }\n-  }\n \n-  private void handleSlowItem(Id id) {\n-    LOG.info(\"slow item \" + id + \" is checked!!\");\n-    if(id instanceof WorkerId) {\n-      AMWorker worker = context.getWorkerManager().getWorker((WorkerId) id);\n-\n-      if(worker.getAttempts().size() < worker.getMaxAttempts()) {\n-        WorkerAttempt runningAttempt = worker.getRunningAttempt();\n-        if(runningAttempt != null) {\n-          context.getEventHandler().handle(new WorkerAttemptEvent(WorkerAttemptEventType.KILL, runningAttempt.getId()));\n+    private void handleSlowItems(List<Id> slowItems) {\n+        if (slowItems != null && slowItems.isEmpty()) {\n+            int size = slowItems.size();\n+            for (int i = 0; i < size; i++) {\n+                handleSlowItem(slowItems.get(i));\n+            }\n         }\n-      }\n     }\n-  }\n-\n-  @Override\n-  protected void serviceInit(Configuration conf) throws Exception {\n-    if(slowCheckEnable) {\n-      String polices = conf.get(AngelConf.ANGEL_AM_SLOW_CHECK_POLICES,\n-        AngelConf.DEFAULT_ANGEL_AM_SLOW_CHECK_POLICES);\n-\n-      LOG.info(\"slow check policy list = \" + polices);\n-      String [] policyNames = polices.split(\",\");\n-      for(int i = 0; i < policyNames.length; i++) {\n-        Class<? extends CheckPolicy> policyClass =\n-          (Class<? extends CheckPolicy>) Class.forName(policyNames[i]);\n-        Constructor<? extends CheckPolicy> constructor = policyClass.getConstructor();\n-        constructor.setAccessible(true);\n-        checkPolices.add(constructor.newInstance());\n-      }\n+\n+    private void handleSlowItem(Id id) {\n+        LOG.info(\"slow item \" + id + \" is checked!!\");\n+        if (id instanceof WorkerId) {\n+            AMWorker worker = context.getWorkerManager().getWorker((WorkerId) id);\n+\n+            if (worker.getAttempts().size() < worker.getMaxAttempts()) {\n+                WorkerAttempt runningAttempt = worker.getRunningAttempt();\n+                if (runningAttempt != null) {\n+                    context.getEventHandler()\n+                            .handle(new WorkerAttemptEvent(WorkerAttemptEventType.KILL,\n+                                    runningAttempt.getId()));\n+                }\n+            }\n+        }\n     }\n-  }\n \n-  @Override\n-  protected void serviceStop() throws Exception {\n-    if (stopped.getAndSet(true)) {\n-      return;\n+    @Override\n+    protected void serviceInit(Configuration conf) throws Exception {\n+        if (slowCheckEnable) {\n+            String polices = conf.get(AngelConf.ANGEL_AM_SLOW_CHECK_POLICES,\n+                    AngelConf.DEFAULT_ANGEL_AM_SLOW_CHECK_POLICES);\n+\n+            LOG.info(\"slow check policy list = \" + polices);\n+            String[] policyNames = polices.split(\",\");\n+            for (int i = 0; i < policyNames.length; i++) {\n+                Class<? extends CheckPolicy> policyClass =\n+                        (Class<? extends CheckPolicy>) Class.forName(policyNames[i]);\n+                Constructor<? extends CheckPolicy> constructor = policyClass.getConstructor();\n+                constructor.setAccessible(true);\n+                checkPolices.add(constructor.newInstance());\n+            }\n+        }\n     }\n-    if (checker != null) {\n-      checker.interrupt();\n-      try {\n-        checker.join();\n-      } catch (InterruptedException ie) {\n-        LOG.warn(\"slow-checker interrupted while stopping\");\n-      }\n+\n+    @Override\n+    protected void serviceStop() throws Exception {\n+        if (stopped.getAndSet(true)) {\n+            return;\n+        }\n+        if (checker != null) {\n+            checker.interrupt();\n+            try {\n+                checker.join();\n+            } catch (InterruptedException ie) {\n+                LOG.warn(\"slow-checker interrupted while stopping\");\n+            }\n+        }\n     }\n-  }\n }\n",
            "diff_size": 141
        },
        {
            "tool": "naturalize",
            "errors": [
                {
                    "line": "99",
                    "severity": "error",
                    "message": "Line is longer than 100 characters (found 120).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                },
                {
                    "line": "114",
                    "severity": "error",
                    "message": "Line is longer than 100 characters (found 112).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                }
            ],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/errored/1/977/SlowChecker.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/naturalize/977/SlowChecker.java\nindex 5618d1b346..f90e8c71ca 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/errored/1/977/SlowChecker.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/naturalize/977/SlowChecker.java\n@@ -45,23 +45,23 @@ public class SlowChecker extends AbstractService {\n     checkPolices = new ArrayList<>();\n     slowCheckEnable = context.getConf().getBoolean(AngelConf.ANGEL_AM_SLOW_CHECK_ENABLE,\n       AngelConf.DEFAULT_ANGEL_AM_SLOW_CHECK_ENABLE);\n-    checkIntervalMs = context.getConf().getInt(AngelConf.ANGEL_AM_SLOW_CHECK_INTERVAL_MS,\n+checkIntervalMs = context.getConf().getInt(AngelConf.ANGEL_AM_SLOW_CHECK_INTERVAL_MS,\n       AngelConf.DEFAULT_ANGEL_AM_SLOW_CHECK_INTERVAL_MS);\n-    stopped = new AtomicBoolean(false);\n+stopped = new AtomicBoolean(false);\n   }\n \n   @Override\n   protected void serviceStart() throws Exception {\n     LOG.info(\"slowCheckEnable = \" + slowCheckEnable + \", checkIntervalMs = \" + checkIntervalMs);\n \n-    if(slowCheckEnable) {\n+    if (slowCheckEnable) {\n       checker = new Thread(new Runnable() {\n         @Override\n         public void run() {\n           LOG.info(\"start slow check thread\");\n           int size = checkPolices.size();\n-          while(!stopped.get() && !Thread.interrupted()) {\n-            for(int i = 0; i < size; i++) {\n+          while (!stopped.get() && !Thread.interrupted()) {\n+            for (int i = 0; i < size; i++) {\n               List<Id> slowItems = checkPolices.get(i).check(context);\n               handleSlowItems(slowItems);\n             }\n@@ -82,7 +82,7 @@ public class SlowChecker extends AbstractService {\n   private void handleSlowItems(List<Id> slowItems) {\n     if(slowItems != null && slowItems.isEmpty()) {\n       int size = slowItems.size();\n-      for(int i = 0; i < size; i++) {\n+      for (int i = 0; i < size; i++) {\n         handleSlowItem(slowItems.get(i));\n       }\n     }\n@@ -90,12 +90,12 @@ public class SlowChecker extends AbstractService {\n \n   private void handleSlowItem(Id id) {\n     LOG.info(\"slow item \" + id + \" is checked!!\");\n-    if(id instanceof WorkerId) {\n+    if (id instanceof WorkerId) {\n       AMWorker worker = context.getWorkerManager().getWorker((WorkerId) id);\n \n-      if(worker.getAttempts().size() < worker.getMaxAttempts()) {\n+      if (worker.getAttempts().size() < worker.getMaxAttempts()) {\n         WorkerAttempt runningAttempt = worker.getRunningAttempt();\n-        if(runningAttempt != null) {\n+        if (runningAttempt != null) {\n           context.getEventHandler().handle(new WorkerAttemptEvent(WorkerAttemptEventType.KILL, runningAttempt.getId()));\n         }\n       }\n@@ -109,11 +109,10 @@ public class SlowChecker extends AbstractService {\n         AngelConf.DEFAULT_ANGEL_AM_SLOW_CHECK_POLICES);\n \n       LOG.info(\"slow check policy list = \" + polices);\n-      String [] policyNames = polices.split(\",\");\n-      for(int i = 0; i < policyNames.length; i++) {\n-        Class<? extends CheckPolicy> policyClass =\n-          (Class<? extends CheckPolicy>) Class.forName(policyNames[i]);\n-        Constructor<? extends CheckPolicy> constructor = policyClass.getConstructor();\n+      String[] policyNames = polices.split(\",\");\n+      for (int i = 0; i < policyNames.length; i++) {\n+        Class<? extends CheckPolicy> policyClass = (Class<? extends CheckPolicy>) Class.forName(policyNames[i]);\n+Constructor<? extends CheckPolicy> constructor = policyClass.getConstructor();\n         constructor.setAccessible(true);\n         checkPolices.add(constructor.newInstance());\n       }\n@@ -134,4 +133,4 @@ public class SlowChecker extends AbstractService {\n       }\n     }\n   }\n-}\n+}\n\\ No newline at end of file\n",
            "diff_size": 15
        },
        {
            "tool": "codebuff",
            "errors": [
                {
                    "line": "28",
                    "severity": "error",
                    "message": "Block comment has incorrect indentation level 2, expected is 4, indentation should be the same level as line 29.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.indentation.CommentsIndentationCheck"
                },
                {
                    "line": "31",
                    "severity": "error",
                    "message": "Block comment has incorrect indentation level 2, expected is 4, indentation should be the same level as line 32.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.indentation.CommentsIndentationCheck"
                },
                {
                    "line": "35",
                    "severity": "error",
                    "message": "Block comment has incorrect indentation level 2, expected is 4, indentation should be the same level as line 36.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.indentation.CommentsIndentationCheck"
                },
                {
                    "line": "39",
                    "severity": "error",
                    "message": "Block comment has incorrect indentation level 2, expected is 4, indentation should be the same level as line 43.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.indentation.CommentsIndentationCheck"
                },
                {
                    "line": "47",
                    "severity": "error",
                    "message": "Line is longer than 100 characters (found 135).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                },
                {
                    "line": "68",
                    "severity": "error",
                    "message": "Line is longer than 100 characters (found 141).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                },
                {
                    "line": "69",
                    "severity": "error",
                    "message": "Line is longer than 100 characters (found 112).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                },
                {
                    "line": "72",
                    "severity": "error",
                    "message": "Line is longer than 100 characters (found 115).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                },
                {
                    "line": "100",
                    "severity": "error",
                    "message": "Line is longer than 100 characters (found 122).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                },
                {
                    "line": "109",
                    "severity": "error",
                    "message": "Line is longer than 100 characters (found 120).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                },
                {
                    "line": "113",
                    "severity": "error",
                    "message": "Line is longer than 100 characters (found 133).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                },
                {
                    "line": "114",
                    "severity": "error",
                    "message": "Line is longer than 100 characters (found 107).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                }
            ],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/errored/1/977/SlowChecker.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/codebuff/977/SlowChecker.java\nindex 5618d1b346..23f85f28bb 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/errored/1/977/SlowChecker.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/codebuff/977/SlowChecker.java\n@@ -12,7 +12,6 @@ import org.apache.commons.logging.Log;\n import org.apache.commons.logging.LogFactory;\n import org.apache.hadoop.conf.Configuration;\n import org.apache.hadoop.service.AbstractService;\n-\n import java.lang.reflect.Constructor;\n import java.util.ArrayList;\n import java.util.List;\n@@ -21,117 +20,117 @@ import java.util.concurrent.atomic.AtomicBoolean;\n /**\n  * Slow workers and pss checker.\n  */\n+\n public class SlowChecker extends AbstractService {\n-  private static final Log LOG = LogFactory.getLog(SlowChecker.class);\n-  private final AMContext context;\n+    private static final Log LOG = LogFactory.getLog(SlowChecker.class);\n+    private final AMContext context;\n \n   /** check polices*/\n-  private final List<CheckPolicy> checkPolices;\n+    private final List<CheckPolicy> checkPolices;\n \n   /** enable checker or not */\n-  private final boolean slowCheckEnable;\n-  private AtomicBoolean stopped;\n+    private final boolean slowCheckEnable;\n+    private AtomicBoolean stopped;\n \n   /** check interval in milliseconds*/\n-  private final int checkIntervalMs;\n-  private volatile Thread checker;\n+    private final int checkIntervalMs;\n+    private volatile Thread checker;\n \n   /**\n    * Construct the service.\n    */\n-  public SlowChecker(AMContext context) {\n+\n+    public SlowChecker(AMContext context) {\n     super(\"slow-checker\");\n     this.context = context;\n     checkPolices = new ArrayList<>();\n-    slowCheckEnable = context.getConf().getBoolean(AngelConf.ANGEL_AM_SLOW_CHECK_ENABLE,\n-      AngelConf.DEFAULT_ANGEL_AM_SLOW_CHECK_ENABLE);\n-    checkIntervalMs = context.getConf().getInt(AngelConf.ANGEL_AM_SLOW_CHECK_INTERVAL_MS,\n-      AngelConf.DEFAULT_ANGEL_AM_SLOW_CHECK_INTERVAL_MS);\n+    slowCheckEnable = context.getConf().getBoolean(AngelConf.ANGEL_AM_SLOW_CHECK_ENABLE, AngelConf.DEFAULT_ANGEL_AM_SLOW_CHECK_ENABLE);\n+    checkIntervalMs = context.getConf().getInt(\n+                                           AngelConf.ANGEL_AM_SLOW_CHECK_INTERVAL_MS,\n+                                           AngelConf.DEFAULT_ANGEL_AM_SLOW_CHECK_INTERVAL_MS);\n     stopped = new AtomicBoolean(false);\n-  }\n+    }\n \n-  @Override\n-  protected void serviceStart() throws Exception {\n+    @Override\n+    protected void serviceStart() throws Exception {\n     LOG.info(\"slowCheckEnable = \" + slowCheckEnable + \", checkIntervalMs = \" + checkIntervalMs);\n+    if (slowCheckEnable) {\n+        checker = new Thread(new Runnable() {\n+\n+\n+                             @Override\n+                             public void run() {\n+                                 LOG.info(\"start slow check thread\");\n+\n+                                 int size = checkPolices.size();\n+                                 while (!stopped.get() && !Thread.interrupted()) {\n+                                 for (int i = 0; i < size; i++) {\n+                                                                                     List<Id> slowItems = checkPolices.get(i).check(context);\n+                                                                                     handleSlowItems(slowItems);\n+                                 }\n+                                 try {\n+                                                                                     Thread.sleep(checkIntervalMs);\n+                                 } catch (InterruptedException e) {\n+                                   LOG.warn(\"slow ps/worker checker is interrupted\");\n+                                 }\n+                                 }\n+                             }\n+        });\n+        checker.setName(\"slow-checker\");\n+        checker.start();\n+    }\n+    }\n \n-    if(slowCheckEnable) {\n-      checker = new Thread(new Runnable() {\n-        @Override\n-        public void run() {\n-          LOG.info(\"start slow check thread\");\n-          int size = checkPolices.size();\n-          while(!stopped.get() && !Thread.interrupted()) {\n-            for(int i = 0; i < size; i++) {\n-              List<Id> slowItems = checkPolices.get(i).check(context);\n-              handleSlowItems(slowItems);\n-            }\n-\n-            try {\n-              Thread.sleep(checkIntervalMs);\n-            } catch (InterruptedException e) {\n-              LOG.warn(\"slow ps/worker checker is interrupted\");\n-            }\n-          }\n+    private void handleSlowItems(List<Id> slowItems) {\n+    if (slowItems != null && slowItems.isEmpty()) {\n+        int size = slowItems.size();\n+        for (int i = 0; i < size; i++) {\n+                                                      handleSlowItem(slowItems.get(i));\n         }\n-      });\n-      checker.setName(\"slow-checker\");\n-      checker.start();\n     }\n-  }\n-\n-  private void handleSlowItems(List<Id> slowItems) {\n-    if(slowItems != null && slowItems.isEmpty()) {\n-      int size = slowItems.size();\n-      for(int i = 0; i < size; i++) {\n-        handleSlowItem(slowItems.get(i));\n-      }\n     }\n-  }\n \n-  private void handleSlowItem(Id id) {\n+    private void handleSlowItem(Id id) {\n     LOG.info(\"slow item \" + id + \" is checked!!\");\n-    if(id instanceof WorkerId) {\n-      AMWorker worker = context.getWorkerManager().getWorker((WorkerId) id);\n-\n-      if(worker.getAttempts().size() < worker.getMaxAttempts()) {\n+    if (id instanceof WorkerId) {\n+        AMWorker worker = context.getWorkerManager().getWorker((WorkerId) id);\n+        if (worker.getAttempts().size() < worker.getMaxAttempts()) {\n         WorkerAttempt runningAttempt = worker.getRunningAttempt();\n-        if(runningAttempt != null) {\n-          context.getEventHandler().handle(new WorkerAttemptEvent(WorkerAttemptEventType.KILL, runningAttempt.getId()));\n+        if (runningAttempt != null) {\n+            context.getEventHandler().handle(new WorkerAttemptEvent(WorkerAttemptEventType.KILL, runningAttempt.getId()));\n+        }\n         }\n-      }\n     }\n-  }\n-\n-  @Override\n-  protected void serviceInit(Configuration conf) throws Exception {\n-    if(slowCheckEnable) {\n-      String polices = conf.get(AngelConf.ANGEL_AM_SLOW_CHECK_POLICES,\n-        AngelConf.DEFAULT_ANGEL_AM_SLOW_CHECK_POLICES);\n-\n-      LOG.info(\"slow check policy list = \" + polices);\n-      String [] policyNames = polices.split(\",\");\n-      for(int i = 0; i < policyNames.length; i++) {\n-        Class<? extends CheckPolicy> policyClass =\n-          (Class<? extends CheckPolicy>) Class.forName(policyNames[i]);\n-        Constructor<? extends CheckPolicy> constructor = policyClass.getConstructor();\n-        constructor.setAccessible(true);\n-        checkPolices.add(constructor.newInstance());\n-      }\n     }\n-  }\n \n-  @Override\n-  protected void serviceStop() throws Exception {\n+    @Override\n+    protected void serviceInit(Configuration conf) throws Exception {\n+    if (slowCheckEnable) {\n+        String polices = conf.get(AngelConf.ANGEL_AM_SLOW_CHECK_POLICES, AngelConf.DEFAULT_ANGEL_AM_SLOW_CHECK_POLICES);\n+        LOG.info(\"slow check policy list = \" + polices);\n+        String[] policyNames = polices.split(\",\");\n+        for (int i = 0; i < policyNames.length; i++) {\n+                             Class<? extends CheckPolicy> policyClass = (Class<? extends CheckPolicy>) Class.forName(policyNames[i]);\n+                             Constructor<? extends CheckPolicy> constructor = policyClass.getConstructor();\n+                             constructor.setAccessible(true);\n+                             checkPolices.add(constructor.newInstance());\n+        }\n+    }\n+    }\n+\n+    @Override\n+    protected void serviceStop() throws Exception {\n     if (stopped.getAndSet(true)) {\n-      return;\n+        return;\n     }\n+\n     if (checker != null) {\n-      checker.interrupt();\n-      try {\n-        checker.join();\n-      } catch (InterruptedException ie) {\n-        LOG.warn(\"slow-checker interrupted while stopping\");\n-      }\n+        checker.interrupt();\n+        try {\n+                             checker.join();\n+        } catch (InterruptedException ie) {\n+          LOG.warn(\"slow-checker interrupted while stopping\");\n+        }\n+    }\n     }\n-  }\n-}\n+}\n\\ No newline at end of file\n",
            "diff_size": 129
        },
        {
            "tool": "styler_random",
            "errors": [
                {
                    "line": "99",
                    "severity": "error",
                    "message": "Line is longer than 100 characters (found 115).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                },
                {
                    "line": "137",
                    "severity": "error",
                    "message": "No trailing whitespace allowed.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.regexp.RegexpSinglelineCheck"
                }
            ],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/errored/1/977/SlowChecker.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/styler_random/977/SlowChecker.java\nindex 5618d1b346..68a119866e 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/errored/1/977/SlowChecker.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/styler_random/977/SlowChecker.java\n@@ -96,42 +96,42 @@ public class SlowChecker extends AbstractService {\n       if(worker.getAttempts().size() < worker.getMaxAttempts()) {\n         WorkerAttempt runningAttempt = worker.getRunningAttempt();\n         if(runningAttempt != null) {\n-          context.getEventHandler().handle(new WorkerAttemptEvent(WorkerAttemptEventType.KILL, runningAttempt.getId()));\n-        }\n+          context.getEventHandler().handle(newWorkerAttemptEvent(WorkerAttemptEventType .KILL,runningAttempt.getId(\n+        ) ) ) ;\n+            } } }\n       }\n-    }\n-  }\n \n-  @Override\n-  protected void serviceInit(Configuration conf) throws Exception {\n-    if(slowCheckEnable) {\n-      String polices = conf.get(AngelConf.ANGEL_AM_SLOW_CHECK_POLICES,\n-        AngelConf.DEFAULT_ANGEL_AM_SLOW_CHECK_POLICES);\n-\n-      LOG.info(\"slow check policy list = \" + polices);\n-      String [] policyNames = polices.split(\",\");\n-      for(int i = 0; i < policyNames.length; i++) {\n-        Class<? extends CheckPolicy> policyClass =\n-          (Class<? extends CheckPolicy>) Class.forName(policyNames[i]);\n-        Constructor<? extends CheckPolicy> constructor = policyClass.getConstructor();\n-        constructor.setAccessible(true);\n-        checkPolices.add(constructor.newInstance());\n+      @Override\n+      protected void serviceInit(Configuration conf) throws Exception {\n+        if(slowCheckEnable) {\n+          String polices = conf.get(AngelConf.ANGEL_AM_SLOW_CHECK_POLICES,\n+            AngelConf.DEFAULT_ANGEL_AM_SLOW_CHECK_POLICES);\n+\n+          LOG.info(\"slow check policy list = \" + polices);\n+          String [] policyNames = polices.split(\",\");\n+          for(int i = 0; i < policyNames.length; i++) {\n+            Class<? extends CheckPolicy> policyClass =\n+              (Class<? extends CheckPolicy>) Class.forName(policyNames[i]);\n+            Constructor<? extends CheckPolicy> constructor = policyClass.getConstructor();\n+            constructor.setAccessible(true);\n+            checkPolices.add(constructor.newInstance());\n+          }\n+        }\n       }\n-    }\n-  }\n \n-  @Override\n-  protected void serviceStop() throws Exception {\n-    if (stopped.getAndSet(true)) {\n-      return;\n-    }\n-    if (checker != null) {\n-      checker.interrupt();\n-      try {\n-        checker.join();\n-      } catch (InterruptedException ie) {\n-        LOG.warn(\"slow-checker interrupted while stopping\");\n+      @Override\n+      protected void serviceStop() throws Exception {\n+        if (stopped.getAndSet(true)) {\n+          return;\n+        }\n+        if (checker != null) {\n+          checker.interrupt();\n+          try {\n+            checker.join();\n+          } catch (InterruptedException ie) {\n+            LOG.warn(\"slow-checker interrupted while stopping\");\n+          }\n+        }\n       }\n     }\n-  }\n-}\n+    \n\\ No newline at end of file\n",
            "diff_size": 38
        },
        {
            "tool": "styler_three_grams",
            "errors": [
                {
                    "line": "98",
                    "severity": "error",
                    "message": "Line is longer than 100 characters (found 147).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                }
            ],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/errored/1/977/SlowChecker.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/styler_three_grams/977/SlowChecker.java\nindex 5618d1b346..c9139f6da8 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/errored/1/977/SlowChecker.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/Angel-ML-angel/styler_three_grams/977/SlowChecker.java\n@@ -95,43 +95,42 @@ public class SlowChecker extends AbstractService {\n \n       if(worker.getAttempts().size() < worker.getMaxAttempts()) {\n         WorkerAttempt runningAttempt = worker.getRunningAttempt();\n-        if(runningAttempt != null) {\n-          context.getEventHandler().handle(new WorkerAttemptEvent(WorkerAttemptEventType.KILL, runningAttempt.getId()));\n-        }\n+        if(runningAttempt != null) { context.getEventHandler().handle(new WorkerAttemptEvent(WorkerAttemptEventType.KILL, runningAttempt.getId()));\n       }\n     }\n   }\n+}\n \n-  @Override\n-  protected void serviceInit(Configuration conf) throws Exception {\n-    if(slowCheckEnable) {\n-      String polices = conf.get(AngelConf.ANGEL_AM_SLOW_CHECK_POLICES,\n-        AngelConf.DEFAULT_ANGEL_AM_SLOW_CHECK_POLICES);\n-\n-      LOG.info(\"slow check policy list = \" + polices);\n-      String [] policyNames = polices.split(\",\");\n-      for(int i = 0; i < policyNames.length; i++) {\n-        Class<? extends CheckPolicy> policyClass =\n-          (Class<? extends CheckPolicy>) Class.forName(policyNames[i]);\n-        Constructor<? extends CheckPolicy> constructor = policyClass.getConstructor();\n-        constructor.setAccessible(true);\n-        checkPolices.add(constructor.newInstance());\n-      }\n+@Override\n+protected void serviceInit(Configuration conf) throws Exception {\n+  if(slowCheckEnable) {\n+    String polices = conf.get(AngelConf.ANGEL_AM_SLOW_CHECK_POLICES,\n+      AngelConf.DEFAULT_ANGEL_AM_SLOW_CHECK_POLICES);\n+\n+    LOG.info(\"slow check policy list = \" + polices);\n+    String [] policyNames = polices.split(\",\");\n+    for(int i = 0; i < policyNames.length; i++) {\n+      Class<? extends CheckPolicy> policyClass =\n+        (Class<? extends CheckPolicy>) Class.forName(policyNames[i]);\n+      Constructor<? extends CheckPolicy> constructor = policyClass.getConstructor();\n+      constructor.setAccessible(true);\n+      checkPolices.add(constructor.newInstance());\n     }\n   }\n+}\n \n-  @Override\n-  protected void serviceStop() throws Exception {\n-    if (stopped.getAndSet(true)) {\n-      return;\n-    }\n-    if (checker != null) {\n-      checker.interrupt();\n-      try {\n-        checker.join();\n-      } catch (InterruptedException ie) {\n-        LOG.warn(\"slow-checker interrupted while stopping\");\n-      }\n+@Override\n+protected void serviceStop() throws Exception {\n+  if (stopped.getAndSet(true)) {\n+    return;\n+  }\n+  if (checker != null) {\n+    checker.interrupt();\n+    try {\n+      checker.join();\n+    } catch (InterruptedException ie) {\n+      LOG.warn(\"slow-checker interrupted while stopping\");\n     }\n   }\n }\n+}\n",
            "diff_size": 33
        }
    ]
}