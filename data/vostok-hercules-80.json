{
    "error_id": "80",
    "information": {
        "errors": [
            {
                "line": "54",
                "column": "58",
                "severity": "warning",
                "message": "'{' is not followed by whitespace.",
                "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.WhitespaceAroundCheck"
            }
        ]
    },
    "source_code": "                            }\n                            subproject.ifPresent(parts::add);\n                            if (!subproject.isPresent()) {//FIXME: backward compatibility\n                                ContainerUtil.extract(properties, ElasticSearchTags.ELK_SCOPE_TAG).ifPresent(parts::add);\n                            }\n                            ContainerUtil.extract(properties, CommonTags.ENVIRONMENT_TAG).ifPresent(parts::add);",
    "results": [
        {
            "tool": "styler",
            "errors": [],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/80/IndexToElasticJsonWriter.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/styler/80/IndexToElasticJsonWriter.java\nindex a28127f972..3b185965e9 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/80/IndexToElasticJsonWriter.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/styler/80/IndexToElasticJsonWriter.java\n@@ -51,7 +51,7 @@ public final class IndexToElasticJsonWriter {\n                                 subproject = ContainerUtil.extract(properties, CommonTags.APPLICATION_TAG);\n                             }\n                             subproject.ifPresent(parts::add);\n-                            if (!subproject.isPresent()) {//FIXME: backward compatibility\n+                            if (!subproject.isPresent()) { //FIXME: backward compatibility\n                                 ContainerUtil.extract(properties, ElasticSearchTags.ELK_SCOPE_TAG).ifPresent(parts::add);\n                             }\n                             ContainerUtil.extract(properties, CommonTags.ENVIRONMENT_TAG).ifPresent(parts::add);\n",
            "diff_size": 1
        },
        {
            "tool": "intellij",
            "errors": [
                {
                    "line": "54",
                    "column": "54",
                    "severity": "warning",
                    "message": "'{' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.WhitespaceAroundCheck"
                }
            ],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/80/IndexToElasticJsonWriter.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/intellij/80/IndexToElasticJsonWriter.java\nindex a28127f972..71a780a99c 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/80/IndexToElasticJsonWriter.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/intellij/80/IndexToElasticJsonWriter.java\n@@ -36,35 +36,35 @@ public final class IndexToElasticJsonWriter {\n \n     public static Optional<String> extractIndex(final Event event) {\n         return ContainerUtil.extract(event.getPayload(), CommonTags.PROPERTIES_TAG)\n-                .flatMap(properties -> {\n-                    final List<String> parts = new ArrayList<>(4);\n+            .flatMap(properties -> {\n+                final List<String> parts = new ArrayList<>(4);\n \n-                    final Optional<String> index = ContainerUtil.extract(properties, ElasticSearchTags.ELK_INDEX_TAG);\n-                    if (index.isPresent()) {\n-                        parts.add(index.get());\n-                    } else {\n-                        final Optional<String> project = ContainerUtil.extract(properties, CommonTags.PROJECT_TAG);\n-                        if (project.isPresent()) {\n-                            parts.add(project.get());\n-                            Optional<String> subproject = ContainerUtil.extract(properties, CommonTags.SUBPROJECT_TAG);\n-                            if (!subproject.isPresent()) {\n-                                subproject = ContainerUtil.extract(properties, CommonTags.APPLICATION_TAG);\n-                            }\n-                            subproject.ifPresent(parts::add);\n-                            if (!subproject.isPresent()) {//FIXME: backward compatibility\n-                                ContainerUtil.extract(properties, ElasticSearchTags.ELK_SCOPE_TAG).ifPresent(parts::add);\n-                            }\n-                            ContainerUtil.extract(properties, CommonTags.ENVIRONMENT_TAG).ifPresent(parts::add);\n+                final Optional<String> index = ContainerUtil.extract(properties, ElasticSearchTags.ELK_INDEX_TAG);\n+                if (index.isPresent()) {\n+                    parts.add(index.get());\n+                } else {\n+                    final Optional<String> project = ContainerUtil.extract(properties, CommonTags.PROJECT_TAG);\n+                    if (project.isPresent()) {\n+                        parts.add(project.get());\n+                        Optional<String> subproject = ContainerUtil.extract(properties, CommonTags.SUBPROJECT_TAG);\n+                        if (!subproject.isPresent()) {\n+                            subproject = ContainerUtil.extract(properties, CommonTags.APPLICATION_TAG);\n                         }\n+                        subproject.ifPresent(parts::add);\n+                        if (!subproject.isPresent()) {//FIXME: backward compatibility\n+                            ContainerUtil.extract(properties, ElasticSearchTags.ELK_SCOPE_TAG).ifPresent(parts::add);\n+                        }\n+                        ContainerUtil.extract(properties, CommonTags.ENVIRONMENT_TAG).ifPresent(parts::add);\n                     }\n+                }\n \n-                    if (parts.size() != 0) {\n-                        parts.add(DATE_FORMATTER.format(TimeUtil.unixTicksToInstant(event.getTimestamp())));\n-                        return Optional.of(String.join(\"-\", parts).toLowerCase());\n-                    }  else {\n-                        return Optional.empty();\n-                    }\n-                });\n+                if (parts.size() != 0) {\n+                    parts.add(DATE_FORMATTER.format(TimeUtil.unixTicksToInstant(event.getTimestamp())));\n+                    return Optional.of(String.join(\"-\", parts).toLowerCase());\n+                } else {\n+                    return Optional.empty();\n+                }\n+            });\n     }\n \n     private IndexToElasticJsonWriter() {\n",
            "diff_size": 31
        },
        {
            "tool": "naturalize",
            "errors": [],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/80/IndexToElasticJsonWriter.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/naturalize/80/IndexToElasticJsonWriter.java\nindex a28127f972..df22400985 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/80/IndexToElasticJsonWriter.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/naturalize/80/IndexToElasticJsonWriter.java\n@@ -34,7 +34,8 @@ public final class IndexToElasticJsonWriter {\n         stream.write(END_BYTES);\n     }\n \n-    public static Optional<String> extractIndex(final Event event) {\n+    public static Optional<String> extractIndex(\n+        final Event event) {\n         return ContainerUtil.extract(event.getPayload(), CommonTags.PROPERTIES_TAG)\n                 .flatMap(properties -> {\n                     final List<String> parts = new ArrayList<>(4);\n@@ -51,7 +52,7 @@ public final class IndexToElasticJsonWriter {\n                                 subproject = ContainerUtil.extract(properties, CommonTags.APPLICATION_TAG);\n                             }\n                             subproject.ifPresent(parts::add);\n-                            if (!subproject.isPresent()) {//FIXME: backward compatibility\n+                            if (!subproject.isPresent()) { //FIXME: backward compatibility\n                                 ContainerUtil.extract(properties, ElasticSearchTags.ELK_SCOPE_TAG).ifPresent(parts::add);\n                             }\n                             ContainerUtil.extract(properties, CommonTags.ENVIRONMENT_TAG).ifPresent(parts::add);\n@@ -61,7 +62,7 @@ public final class IndexToElasticJsonWriter {\n                     if (parts.size() != 0) {\n                         parts.add(DATE_FORMATTER.format(TimeUtil.unixTicksToInstant(event.getTimestamp())));\n                         return Optional.of(String.join(\"-\", parts).toLowerCase());\n-                    }  else {\n+                    } else {\n                         return Optional.empty();\n                     }\n                 });\n@@ -70,4 +71,4 @@ public final class IndexToElasticJsonWriter {\n     private IndexToElasticJsonWriter() {\n         /* static class */\n     }\n-}\n+}\n\\ No newline at end of file\n",
            "diff_size": 5
        },
        {
            "tool": "codebuff",
            "errors": [
                {
                    "line": "56",
                    "column": "50",
                    "severity": "warning",
                    "message": "'{' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.WhitespaceAroundCheck"
                }
            ],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/80/IndexToElasticJsonWriter.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/codebuff/80/IndexToElasticJsonWriter.java\nindex a28127f972..e19298db8e 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/80/IndexToElasticJsonWriter.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/codebuff/80/IndexToElasticJsonWriter.java\n@@ -5,7 +5,6 @@ import ru.kontur.vostok.hercules.protocol.util.ContainerUtil;\n import ru.kontur.vostok.hercules.tags.CommonTags;\n import ru.kontur.vostok.hercules.tags.ElasticSearchTags;\n import ru.kontur.vostok.hercules.util.time.TimeUtil;\n-\n import java.io.IOException;\n import java.io.OutputStream;\n import java.nio.charset.Charset;\n@@ -16,16 +15,18 @@ import java.util.ArrayList;\n import java.util.List;\n import java.util.Optional;\n \n-public final class IndexToElasticJsonWriter {\n \n+public final class IndexToElasticJsonWriter {\n     private static final Charset ENCODING = StandardCharsets.UTF_8;\n \n-    private static final DateTimeFormatter DATE_FORMATTER = DateTimeFormatter.ofPattern(\"yyyy.MM.dd\").withZone(ZoneId.of(\"UTC\"));\n+    private static final DateTimeFormatter DATE_FORMATTER = DateTimeFormatter.ofPattern(\"yyyy.MM.dd\")\n+    .withZone(ZoneId.of(\"UTC\"));\n \n     private static final byte[] START_BYTES = \"{\\\"index\\\":{\\\"_index\\\":\\\"\".getBytes(ENCODING);\n+\n     private static final byte[] MIDDLE_BYTES = \"\\\",\\\"_type\\\":\\\"LogEvent\\\",\\\"_id\\\":\\\"\".getBytes(ENCODING);\n-    private static final byte[] END_BYTES = \"\\\"}}\".getBytes(ENCODING);\n \n+    private static final byte[] END_BYTES = \"\\\"}}\".getBytes(ENCODING);\n     public static void writeIndex(OutputStream stream, String index, String eventId) throws IOException {\n         stream.write(START_BYTES);\n         stream.write(index.getBytes(ENCODING));\n@@ -36,38 +37,41 @@ public final class IndexToElasticJsonWriter {\n \n     public static Optional<String> extractIndex(final Event event) {\n         return ContainerUtil.extract(event.getPayload(), CommonTags.PROPERTIES_TAG)\n-                .flatMap(properties -> {\n-                    final List<String> parts = new ArrayList<>(4);\n+        .flatMap(properties -> {\n+            final List<String> parts = new ArrayList<>(4);\n+            final Optional<String> index = ContainerUtil.extract(properties, ElasticSearchTags.ELK_INDEX_TAG);\n+            if (index.isPresent()) {\n+                parts.add(index.get());\n+            } else {\n+                final Optional<String> project = ContainerUtil.extract(properties, CommonTags.PROJECT_TAG);\n+                if (project.isPresent()) {\n+                    parts.add(project.get());\n \n-                    final Optional<String> index = ContainerUtil.extract(properties, ElasticSearchTags.ELK_INDEX_TAG);\n-                    if (index.isPresent()) {\n-                        parts.add(index.get());\n-                    } else {\n-                        final Optional<String> project = ContainerUtil.extract(properties, CommonTags.PROJECT_TAG);\n-                        if (project.isPresent()) {\n-                            parts.add(project.get());\n-                            Optional<String> subproject = ContainerUtil.extract(properties, CommonTags.SUBPROJECT_TAG);\n-                            if (!subproject.isPresent()) {\n-                                subproject = ContainerUtil.extract(properties, CommonTags.APPLICATION_TAG);\n-                            }\n-                            subproject.ifPresent(parts::add);\n-                            if (!subproject.isPresent()) {//FIXME: backward compatibility\n-                                ContainerUtil.extract(properties, ElasticSearchTags.ELK_SCOPE_TAG).ifPresent(parts::add);\n-                            }\n-                            ContainerUtil.extract(properties, CommonTags.ENVIRONMENT_TAG).ifPresent(parts::add);\n-                        }\n+                    Optional<String> subproject = ContainerUtil.extract(properties, CommonTags.SUBPROJECT_TAG);\n+                    if (!subproject.isPresent()) {\n+                        subproject = ContainerUtil.extract(properties, CommonTags.APPLICATION_TAG);\n                     }\n \n-                    if (parts.size() != 0) {\n-                        parts.add(DATE_FORMATTER.format(TimeUtil.unixTicksToInstant(event.getTimestamp())));\n-                        return Optional.of(String.join(\"-\", parts).toLowerCase());\n-                    }  else {\n-                        return Optional.empty();\n+                    subproject.ifPresent(parts::add);\n+                    if (!subproject.isPresent()) {//FIXME: backward compatibility\n+                        ContainerUtil.extract(properties, ElasticSearchTags.ELK_SCOPE_TAG).ifPresent(parts::add);\n                     }\n-                });\n+\n+                    ContainerUtil.extract(properties, CommonTags.ENVIRONMENT_TAG).ifPresent(parts::add);\n+                }\n+            }\n+\n+            if (parts.size() != 0) {\n+                parts.add(DATE_FORMATTER.format(TimeUtil.unixTicksToInstant(event.getTimestamp())));\n+                return Optional.of(String.join(\"-\", parts)\n+                .toLowerCase());\n+            } else {\n+                return Optional.empty();\n+            }\n+        });\n     }\n \n     private IndexToElasticJsonWriter() {\n         /* static class */\n     }\n-}\n+}\n\\ No newline at end of file\n",
            "diff_size": 53
        },
        {
            "tool": "styler_random",
            "errors": [],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/80/IndexToElasticJsonWriter.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/styler_random/80/IndexToElasticJsonWriter.java\nindex a28127f972..3b185965e9 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/80/IndexToElasticJsonWriter.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/styler_random/80/IndexToElasticJsonWriter.java\n@@ -51,7 +51,7 @@ public final class IndexToElasticJsonWriter {\n                                 subproject = ContainerUtil.extract(properties, CommonTags.APPLICATION_TAG);\n                             }\n                             subproject.ifPresent(parts::add);\n-                            if (!subproject.isPresent()) {//FIXME: backward compatibility\n+                            if (!subproject.isPresent()) { //FIXME: backward compatibility\n                                 ContainerUtil.extract(properties, ElasticSearchTags.ELK_SCOPE_TAG).ifPresent(parts::add);\n                             }\n                             ContainerUtil.extract(properties, CommonTags.ENVIRONMENT_TAG).ifPresent(parts::add);\n",
            "diff_size": 1
        },
        {
            "tool": "styler_three_grams",
            "errors": [],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/80/IndexToElasticJsonWriter.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/styler_three_grams/80/IndexToElasticJsonWriter.java\nindex a28127f972..3b185965e9 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/80/IndexToElasticJsonWriter.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/styler_three_grams/80/IndexToElasticJsonWriter.java\n@@ -51,7 +51,7 @@ public final class IndexToElasticJsonWriter {\n                                 subproject = ContainerUtil.extract(properties, CommonTags.APPLICATION_TAG);\n                             }\n                             subproject.ifPresent(parts::add);\n-                            if (!subproject.isPresent()) {//FIXME: backward compatibility\n+                            if (!subproject.isPresent()) { //FIXME: backward compatibility\n                                 ContainerUtil.extract(properties, ElasticSearchTags.ELK_SCOPE_TAG).ifPresent(parts::add);\n                             }\n                             ContainerUtil.extract(properties, CommonTags.ENVIRONMENT_TAG).ifPresent(parts::add);\n",
            "diff_size": 1
        }
    ]
}