{
    "error_id": "96",
    "information": {
        "errors": [
            {
                "line": "59",
                "severity": "warning",
                "message": "Line is longer than 120 characters (found 141).",
                "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
            }
        ]
    },
    "source_code": "            EntityManager em = dao.getEM();\n            Query query = em\n                    .createNativeQuery(\"select id, workload_id from script_group where test_plan_id is null order by workload_id, position\");\n            @SuppressWarnings(\"unchecked\") List<Object[]> results = query.getResultList();\n            for (Object[] set : results) {\n                Integer id = (Integer) set[0];",
    "results": [
        {
            "tool": "styler",
            "errors": [
                {
                    "line": "58",
                    "severity": "warning",
                    "message": "Line is longer than 120 characters (found 149).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                }
            ],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/errored/1/96/UpdateScriptGroups.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/styler/96/UpdateScriptGroups.java\nindex b5ef4dafc3..8b8d91cd2a 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/errored/1/96/UpdateScriptGroups.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/styler/96/UpdateScriptGroups.java\n@@ -55,62 +55,62 @@ public class UpdateScriptGroups {\n         if (!running) {\n             // running = true;\n             EntityManager em = dao.getEM();\n-            Query query = em\n-                    .createNativeQuery(\"select id, workload_id from script_group where test_plan_id is null order by workload_id, position\");\n+            Query query = em.createNativeQuery(\"select id, workload_id from script_group where test_plan_id is null order by workload_id, position\");\n+\n             @SuppressWarnings(\"unchecked\") List<Object[]> results = query.getResultList();\n-            for (Object[] set : results) {\n-                Integer id = (Integer) set[0];\n-                Integer workloadId = (Integer) set[1];\n-                if (workloadId != null) {\n-                    updateScriptGroup(id, workloadId);\n-                } else {\n-                    deleteScriptGroup(id);\n-                }\n-            }\n-            for (Workload w : workloadMap.values()) {\n-                workloadDao.saveOrUpdate(w);\n-            }\n+    for (Object[] set : results) {\n+        Integer id = (Integer) set[0];\n+        Integer workloadId = (Integer) set[1];\n+        if (workloadId != null) {\n+            updateScriptGroup(id, workloadId);\n+        } else {\n+            deleteScriptGroup(id);\n         }\n     }\n+    for (Workload w : workloadMap.values()) {\n+        workloadDao.saveOrUpdate(w);\n+    }\n+}\n+}\n \n-    private void deleteScriptGroup(Integer id) {\n-        dao.delete(id);\n+private void deleteScriptGroup(Integer id) {\n+    dao.delete(id);\n \n-    }\n+}\n \n-    private void updateScriptGroup(Integer id, Integer workloadId) {\n-        Workload workload = workloadMap.get(workloadId);\n+private void updateScriptGroup(Integer id, Integer workloadId) {\n+    Workload workload = workloadMap.get(workloadId);\n+    if (workload == null) {\n+        workload = workloadDao.findById(workloadId);\n         if (workload == null) {\n-            workload = workloadDao.findById(workloadId);\n-            if (workload == null) {\n-                deleteScriptGroup(id);\n-                return;\n-            }\n-            workloadMap.put(workloadId, workload);\n+            deleteScriptGroup(id);\n+            return;\n         }\n-        List<TestPlan> testPlans = workload.getTestPlans();\n-\n-        if (testPlans.isEmpty()) {\n-            // create a testPlan\n-            TestPlan plan = TestPlan.builder().name(\"Main\").usersPercentage(100).build();\n-            workload.addTestPlan(plan);\n-        }\n-        ScriptGroup scriptGroup = dao.findById(id);\n-        testPlans.get(0).addScriptGroup(copyGroup(scriptGroup));\n-        deleteScriptGroup(id);\n+        workloadMap.put(workloadId, workload);\n     }\n+    List<TestPlan> testPlans = workload.getTestPlans();\n \n-    private ScriptGroup copyGroup(ScriptGroup copyFrom) {\n-        ScriptGroup sg = ScriptGroup.builder().name(copyFrom.getName()).loop(copyFrom.getLoop()).build();\n-        for (ScriptGroupStep step : copyFrom.getScriptGroupSteps()) {\n-            sg.addScriptGroupStep(copyStep(step));\n-        }\n-        return sg;\n+    if (testPlans.isEmpty()) {\n+        // create a testPlan\n+        TestPlan plan = TestPlan.builder().name(\"Main\").usersPercentage(100).build();\n+        workload.addTestPlan(plan);\n     }\n+    ScriptGroup scriptGroup = dao.findById(id);\n+    testPlans.get(0).addScriptGroup(copyGroup(scriptGroup));\n+    deleteScriptGroup(id);\n+}\n \n-    private ScriptGroupStep copyStep(ScriptGroupStep copyFrom) {\n-        ScriptGroupStep step = ScriptGroupStep.builder().loop(copyFrom.getLoop()).script(copyFrom.getScript()).build();\n-        return step;\n+private ScriptGroup copyGroup(ScriptGroup copyFrom) {\n+    ScriptGroup sg = ScriptGroup.builder().name(copyFrom.getName()).loop(copyFrom.getLoop()).build();\n+    for (ScriptGroupStep step : copyFrom.getScriptGroupSteps()) {\n+        sg.addScriptGroupStep(copyStep(step));\n     }\n+    return sg;\n+}\n+\n+private ScriptGroupStep copyStep(ScriptGroupStep copyFrom) {\n+    ScriptGroupStep step = ScriptGroupStep.builder().loop(copyFrom.getLoop()).script(copyFrom.getScript()).build();\n+    return step;\n+}\n \n }\n",
            "diff_size": 64
        },
        {
            "tool": "intellij",
            "errors": [],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/errored/1/96/UpdateScriptGroups.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/intellij/96/UpdateScriptGroups.java\nindex b5ef4dafc3..eb249e5f5d 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/errored/1/96/UpdateScriptGroups.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/intellij/96/UpdateScriptGroups.java\n@@ -1,6 +1,7 @@\n /**\n  * Copyright 2011 Intuit Inc. All Rights Reserved\n  */\n+\n package com.intuit.tank.util;\n \n /*\n@@ -33,84 +34,84 @@ import com.intuit.tank.project.Workload;\n \n /**\n  * ProductDaoTest\n- * \n+ *\n  * @author dangleton\n- * \n  */\n @Named\n public class UpdateScriptGroups {\n \n-    private ScriptGroupDao dao = new ScriptGroupDao();\n-    private WorkloadDao workloadDao = new WorkloadDao();\n-    private Map<Integer, Workload> workloadMap = new HashMap<Integer, Workload>();\n-    private Map<Integer, List<ScriptGroup>> scriptGroupMap = new HashMap<Integer, List<ScriptGroup>>();\n-\n-    private static boolean running = false;\n-\n-    public boolean isDisabled() {\n-        return running;\n-    }\n-\n-    public synchronized void upgrade() {\n-        if (!running) {\n-            // running = true;\n-            EntityManager em = dao.getEM();\n-            Query query = em\n-                    .createNativeQuery(\"select id, workload_id from script_group where test_plan_id is null order by workload_id, position\");\n-            @SuppressWarnings(\"unchecked\") List<Object[]> results = query.getResultList();\n-            for (Object[] set : results) {\n-                Integer id = (Integer) set[0];\n-                Integer workloadId = (Integer) set[1];\n-                if (workloadId != null) {\n-                    updateScriptGroup(id, workloadId);\n-                } else {\n-                    deleteScriptGroup(id);\n-                }\n-            }\n-            for (Workload w : workloadMap.values()) {\n-                workloadDao.saveOrUpdate(w);\n-            }\n+  private ScriptGroupDao dao = new ScriptGroupDao();\n+  private WorkloadDao workloadDao = new WorkloadDao();\n+  private Map<Integer, Workload> workloadMap = new HashMap<Integer, Workload>();\n+  private Map<Integer, List<ScriptGroup>> scriptGroupMap = new HashMap<Integer, List<ScriptGroup>>();\n+\n+  private static boolean running = false;\n+\n+  public boolean isDisabled() {\n+    return running;\n+  }\n+\n+  public synchronized void upgrade() {\n+    if (!running) {\n+      // running = true;\n+      EntityManager em = dao.getEM();\n+      Query query = em\n+        .createNativeQuery(\n+          \"select id, workload_id from script_group where test_plan_id is null order by workload_id, position\");\n+      @SuppressWarnings(\"unchecked\") List<Object[]> results = query.getResultList();\n+      for (Object[] set : results) {\n+        Integer id = (Integer) set[0];\n+        Integer workloadId = (Integer) set[1];\n+        if (workloadId != null) {\n+          updateScriptGroup(id, workloadId);\n+        } else {\n+          deleteScriptGroup(id);\n         }\n+      }\n+      for (Workload w : workloadMap.values()) {\n+        workloadDao.saveOrUpdate(w);\n+      }\n     }\n+  }\n \n-    private void deleteScriptGroup(Integer id) {\n-        dao.delete(id);\n-\n-    }\n+  private void deleteScriptGroup(Integer id) {\n+    dao.delete(id);\n \n-    private void updateScriptGroup(Integer id, Integer workloadId) {\n-        Workload workload = workloadMap.get(workloadId);\n-        if (workload == null) {\n-            workload = workloadDao.findById(workloadId);\n-            if (workload == null) {\n-                deleteScriptGroup(id);\n-                return;\n-            }\n-            workloadMap.put(workloadId, workload);\n-        }\n-        List<TestPlan> testPlans = workload.getTestPlans();\n+  }\n \n-        if (testPlans.isEmpty()) {\n-            // create a testPlan\n-            TestPlan plan = TestPlan.builder().name(\"Main\").usersPercentage(100).build();\n-            workload.addTestPlan(plan);\n-        }\n-        ScriptGroup scriptGroup = dao.findById(id);\n-        testPlans.get(0).addScriptGroup(copyGroup(scriptGroup));\n+  private void updateScriptGroup(Integer id, Integer workloadId) {\n+    Workload workload = workloadMap.get(workloadId);\n+    if (workload == null) {\n+      workload = workloadDao.findById(workloadId);\n+      if (workload == null) {\n         deleteScriptGroup(id);\n+        return;\n+      }\n+      workloadMap.put(workloadId, workload);\n     }\n+    List<TestPlan> testPlans = workload.getTestPlans();\n \n-    private ScriptGroup copyGroup(ScriptGroup copyFrom) {\n-        ScriptGroup sg = ScriptGroup.builder().name(copyFrom.getName()).loop(copyFrom.getLoop()).build();\n-        for (ScriptGroupStep step : copyFrom.getScriptGroupSteps()) {\n-            sg.addScriptGroupStep(copyStep(step));\n-        }\n-        return sg;\n+    if (testPlans.isEmpty()) {\n+      // create a testPlan\n+      TestPlan plan = TestPlan.builder().name(\"Main\").usersPercentage(100).build();\n+      workload.addTestPlan(plan);\n     }\n-\n-    private ScriptGroupStep copyStep(ScriptGroupStep copyFrom) {\n-        ScriptGroupStep step = ScriptGroupStep.builder().loop(copyFrom.getLoop()).script(copyFrom.getScript()).build();\n-        return step;\n+    ScriptGroup scriptGroup = dao.findById(id);\n+    testPlans.get(0).addScriptGroup(copyGroup(scriptGroup));\n+    deleteScriptGroup(id);\n+  }\n+\n+  private ScriptGroup copyGroup(ScriptGroup copyFrom) {\n+    ScriptGroup sg = ScriptGroup.builder().name(copyFrom.getName()).loop(copyFrom.getLoop()).build();\n+    for (ScriptGroupStep step : copyFrom.getScriptGroupSteps()) {\n+      sg.addScriptGroupStep(copyStep(step));\n     }\n+    return sg;\n+  }\n+\n+  private ScriptGroupStep copyStep(ScriptGroupStep copyFrom) {\n+    ScriptGroupStep step = ScriptGroupStep.builder().loop(copyFrom.getLoop()).script(copyFrom.getScript()).build();\n+    return step;\n+  }\n \n }\n",
            "diff_size": 86
        },
        {
            "tool": "naturalize",
            "errors": [
                {
                    "line": "59",
                    "severity": "warning",
                    "message": "Line is longer than 120 characters (found 141).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                }
            ],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/errored/1/96/UpdateScriptGroups.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/naturalize/96/UpdateScriptGroups.java\nindex b5ef4dafc3..13c3b56f3b 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/errored/1/96/UpdateScriptGroups.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/naturalize/96/UpdateScriptGroups.java\n@@ -57,7 +57,8 @@ public class UpdateScriptGroups {\n             EntityManager em = dao.getEM();\n             Query query = em\n                     .createNativeQuery(\"select id, workload_id from script_group where test_plan_id is null order by workload_id, position\");\n-            @SuppressWarnings(\"unchecked\") List<Object[]> results = query.getResultList();\n+\n+@SuppressWarnings(\"unchecked\") List<Object[]> results = query.getResultList();\n             for (Object[] set : results) {\n                 Integer id = (Integer) set[0];\n                 Integer workloadId = (Integer) set[1];\n@@ -113,4 +114,4 @@ public class UpdateScriptGroups {\n         return step;\n     }\n \n-}\n+}\n\\ No newline at end of file\n",
            "diff_size": 3
        },
        {
            "tool": "codebuff",
            "errors": [
                {
                    "line": "58",
                    "severity": "warning",
                    "message": "Line is longer than 120 characters (found 149).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                }
            ],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/errored/1/96/UpdateScriptGroups.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/codebuff/96/UpdateScriptGroups.java\nindex b5ef4dafc3..3dc0e74eb5 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/errored/1/96/UpdateScriptGroups.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/codebuff/96/UpdateScriptGroups.java\n@@ -16,14 +16,14 @@ package com.intuit.tank.util;\n  * #L%\n  */\n \n+\n+\n import java.util.HashMap;\n import java.util.List;\n import java.util.Map;\n-\n import javax.inject.Named;\n import javax.persistence.EntityManager;\n import javax.persistence.Query;\n-\n import com.intuit.tank.dao.ScriptGroupDao;\n import com.intuit.tank.dao.WorkloadDao;\n import com.intuit.tank.project.ScriptGroup;\n@@ -37,6 +37,7 @@ import com.intuit.tank.project.Workload;\n  * @author dangleton\n  * \n  */\n+\n @Named\n public class UpdateScriptGroups {\n \n@@ -44,19 +45,17 @@ public class UpdateScriptGroups {\n     private WorkloadDao workloadDao = new WorkloadDao();\n     private Map<Integer, Workload> workloadMap = new HashMap<Integer, Workload>();\n     private Map<Integer, List<ScriptGroup>> scriptGroupMap = new HashMap<Integer, List<ScriptGroup>>();\n-\n     private static boolean running = false;\n-\n     public boolean isDisabled() {\n         return running;\n     }\n \n+\n     public synchronized void upgrade() {\n         if (!running) {\n             // running = true;\n             EntityManager em = dao.getEM();\n-            Query query = em\n-                    .createNativeQuery(\"select id, workload_id from script_group where test_plan_id is null order by workload_id, position\");\n+            Query query = em.createNativeQuery(\"select id, workload_id from script_group where test_plan_id is null order by workload_id, position\");\n             @SuppressWarnings(\"unchecked\") List<Object[]> results = query.getResultList();\n             for (Object[] set : results) {\n                 Integer id = (Integer) set[0];\n@@ -75,7 +74,6 @@ public class UpdateScriptGroups {\n \n     private void deleteScriptGroup(Integer id) {\n         dao.delete(id);\n-\n     }\n \n     private void updateScriptGroup(Integer id, Integer workloadId) {\n@@ -89,7 +87,6 @@ public class UpdateScriptGroups {\n             workloadMap.put(workloadId, workload);\n         }\n         List<TestPlan> testPlans = workload.getTestPlans();\n-\n         if (testPlans.isEmpty()) {\n             // create a testPlan\n             TestPlan plan = TestPlan.builder().name(\"Main\").usersPercentage(100).build();\n@@ -113,4 +110,4 @@ public class UpdateScriptGroups {\n         return step;\n     }\n \n-}\n+}\n\\ No newline at end of file\n",
            "diff_size": 13
        },
        {
            "tool": "styler_random",
            "errors": [
                {
                    "line": "59",
                    "severity": "warning",
                    "message": "Line is longer than 120 characters (found 221).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                },
                {
                    "line": "59",
                    "column": "141",
                    "severity": "warning",
                    "message": "')' is preceded with whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.ParenPadCheck"
                },
                {
                    "line": "111",
                    "severity": "warning",
                    "message": "Line is longer than 120 characters (found 127).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                }
            ],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/errored/1/96/UpdateScriptGroups.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/styler_random/96/UpdateScriptGroups.java\nindex b5ef4dafc3..ae62eea4d7 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/errored/1/96/UpdateScriptGroups.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/styler_random/96/UpdateScriptGroups.java\n@@ -56,61 +56,61 @@ public class UpdateScriptGroups {\n             // running = true;\n             EntityManager em = dao.getEM();\n             Query query = em\n-                    .createNativeQuery(\"select id, workload_id from script_group where test_plan_id is null order by workload_id, position\");\n-            @SuppressWarnings(\"unchecked\") List<Object[]> results = query.getResultList();\n-            for (Object[] set : results) {\n-                Integer id = (Integer) set[0];\n-                Integer workloadId = (Integer) set[1];\n-                if (workloadId != null) {\n-                    updateScriptGroup(id, workloadId);\n-                } else {\n-                    deleteScriptGroup(id);\n+                    .createNativeQuery(\"select id, workload_id from script_group where test_plan_id is null order by workload_id, position\" );@SuppressWarnings (\"unchecked\") List<Object[]> results = query.getResultList();\n+                    for (Object[] set : results) {\n+                        Integer id = (Integer) set[0];\n+                        Integer workloadId = (Integer) set[1];\n+                        if (workloadId != null) {\n+                            updateScriptGroup(id, workloadId);\n+                        } else {\n+                            deleteScriptGroup(id);\n+                        }\n+                    }\n+                    for (Workload w : workloadMap.values()) {\n+                        workloadDao.saveOrUpdate(w);\n+                    }\n                 }\n             }\n-            for (Workload w : workloadMap.values()) {\n-                workloadDao.saveOrUpdate(w);\n-            }\n-        }\n-    }\n \n-    private void deleteScriptGroup(Integer id) {\n-        dao.delete(id);\n+            private void deleteScriptGroup(Integer id) {\n+                dao.delete(id);\n \n-    }\n+            }\n \n-    private void updateScriptGroup(Integer id, Integer workloadId) {\n-        Workload workload = workloadMap.get(workloadId);\n-        if (workload == null) {\n-            workload = workloadDao.findById(workloadId);\n-            if (workload == null) {\n+            private void updateScriptGroup(Integer id, Integer workloadId) {\n+                Workload workload = workloadMap.get(workloadId);\n+                if (workload == null) {\n+                    workload = workloadDao.findById(workloadId);\n+                    if (workload == null) {\n+                        deleteScriptGroup(id);\n+                        return;\n+                    }\n+                    workloadMap.put(workloadId, workload);\n+                }\n+                List<TestPlan> testPlans = workload.getTestPlans();\n+\n+                if (testPlans.isEmpty()) {\n+                    // create a testPlan\n+                    TestPlan plan = TestPlan.builder().name(\"Main\").usersPercentage(100).build();\n+                    workload.addTestPlan(plan);\n+                }\n+                ScriptGroup scriptGroup = dao.findById(id);\n+                testPlans.get(0).addScriptGroup(copyGroup(scriptGroup));\n                 deleteScriptGroup(id);\n-                return;\n             }\n-            workloadMap.put(workloadId, workload);\n-        }\n-        List<TestPlan> testPlans = workload.getTestPlans();\n \n-        if (testPlans.isEmpty()) {\n-            // create a testPlan\n-            TestPlan plan = TestPlan.builder().name(\"Main\").usersPercentage(100).build();\n-            workload.addTestPlan(plan);\n-        }\n-        ScriptGroup scriptGroup = dao.findById(id);\n-        testPlans.get(0).addScriptGroup(copyGroup(scriptGroup));\n-        deleteScriptGroup(id);\n-    }\n-\n-    private ScriptGroup copyGroup(ScriptGroup copyFrom) {\n-        ScriptGroup sg = ScriptGroup.builder().name(copyFrom.getName()).loop(copyFrom.getLoop()).build();\n-        for (ScriptGroupStep step : copyFrom.getScriptGroupSteps()) {\n-            sg.addScriptGroupStep(copyStep(step));\n-        }\n-        return sg;\n-    }\n+            private ScriptGroup copyGroup(ScriptGroup copyFrom) {\n+                ScriptGroup sg = ScriptGroup.builder().name(copyFrom.getName()).loop(copyFrom.getLoop()).build();\n+                for (ScriptGroupStep step : copyFrom.getScriptGroupSteps()) {\n+                    sg.addScriptGroupStep(copyStep(step));\n+                }\n+                return sg;\n+            }\n \n-    private ScriptGroupStep copyStep(ScriptGroupStep copyFrom) {\n-        ScriptGroupStep step = ScriptGroupStep.builder().loop(copyFrom.getLoop()).script(copyFrom.getScript()).build();\n-        return step;\n-    }\n+            private ScriptGroupStep copyStep(ScriptGroupStep copyFrom) {\n+                ScriptGroupStep step = ScriptGroupStep.builder().loop(copyFrom.getLoop()).script(copyFrom.getScript()).build();\n+                return step;\n+            }\n \n-}\n+        }\n+        \n\\ No newline at end of file\n",
            "diff_size": 67
        },
        {
            "tool": "styler_three_grams",
            "errors": [
                {
                    "line": "58",
                    "severity": "warning",
                    "message": "Line is longer than 120 characters (found 149).",
                    "source": "com.puppycrawl.tools.checkstyle.checks.sizes.LineLengthCheck"
                }
            ],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/errored/1/96/UpdateScriptGroups.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/styler_three_grams/96/UpdateScriptGroups.java\nindex b5ef4dafc3..8b8d91cd2a 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/errored/1/96/UpdateScriptGroups.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/intuit-Tank/styler_three_grams/96/UpdateScriptGroups.java\n@@ -55,62 +55,62 @@ public class UpdateScriptGroups {\n         if (!running) {\n             // running = true;\n             EntityManager em = dao.getEM();\n-            Query query = em\n-                    .createNativeQuery(\"select id, workload_id from script_group where test_plan_id is null order by workload_id, position\");\n+            Query query = em.createNativeQuery(\"select id, workload_id from script_group where test_plan_id is null order by workload_id, position\");\n+\n             @SuppressWarnings(\"unchecked\") List<Object[]> results = query.getResultList();\n-            for (Object[] set : results) {\n-                Integer id = (Integer) set[0];\n-                Integer workloadId = (Integer) set[1];\n-                if (workloadId != null) {\n-                    updateScriptGroup(id, workloadId);\n-                } else {\n-                    deleteScriptGroup(id);\n-                }\n-            }\n-            for (Workload w : workloadMap.values()) {\n-                workloadDao.saveOrUpdate(w);\n-            }\n+    for (Object[] set : results) {\n+        Integer id = (Integer) set[0];\n+        Integer workloadId = (Integer) set[1];\n+        if (workloadId != null) {\n+            updateScriptGroup(id, workloadId);\n+        } else {\n+            deleteScriptGroup(id);\n         }\n     }\n+    for (Workload w : workloadMap.values()) {\n+        workloadDao.saveOrUpdate(w);\n+    }\n+}\n+}\n \n-    private void deleteScriptGroup(Integer id) {\n-        dao.delete(id);\n+private void deleteScriptGroup(Integer id) {\n+    dao.delete(id);\n \n-    }\n+}\n \n-    private void updateScriptGroup(Integer id, Integer workloadId) {\n-        Workload workload = workloadMap.get(workloadId);\n+private void updateScriptGroup(Integer id, Integer workloadId) {\n+    Workload workload = workloadMap.get(workloadId);\n+    if (workload == null) {\n+        workload = workloadDao.findById(workloadId);\n         if (workload == null) {\n-            workload = workloadDao.findById(workloadId);\n-            if (workload == null) {\n-                deleteScriptGroup(id);\n-                return;\n-            }\n-            workloadMap.put(workloadId, workload);\n+            deleteScriptGroup(id);\n+            return;\n         }\n-        List<TestPlan> testPlans = workload.getTestPlans();\n-\n-        if (testPlans.isEmpty()) {\n-            // create a testPlan\n-            TestPlan plan = TestPlan.builder().name(\"Main\").usersPercentage(100).build();\n-            workload.addTestPlan(plan);\n-        }\n-        ScriptGroup scriptGroup = dao.findById(id);\n-        testPlans.get(0).addScriptGroup(copyGroup(scriptGroup));\n-        deleteScriptGroup(id);\n+        workloadMap.put(workloadId, workload);\n     }\n+    List<TestPlan> testPlans = workload.getTestPlans();\n \n-    private ScriptGroup copyGroup(ScriptGroup copyFrom) {\n-        ScriptGroup sg = ScriptGroup.builder().name(copyFrom.getName()).loop(copyFrom.getLoop()).build();\n-        for (ScriptGroupStep step : copyFrom.getScriptGroupSteps()) {\n-            sg.addScriptGroupStep(copyStep(step));\n-        }\n-        return sg;\n+    if (testPlans.isEmpty()) {\n+        // create a testPlan\n+        TestPlan plan = TestPlan.builder().name(\"Main\").usersPercentage(100).build();\n+        workload.addTestPlan(plan);\n     }\n+    ScriptGroup scriptGroup = dao.findById(id);\n+    testPlans.get(0).addScriptGroup(copyGroup(scriptGroup));\n+    deleteScriptGroup(id);\n+}\n \n-    private ScriptGroupStep copyStep(ScriptGroupStep copyFrom) {\n-        ScriptGroupStep step = ScriptGroupStep.builder().loop(copyFrom.getLoop()).script(copyFrom.getScript()).build();\n-        return step;\n+private ScriptGroup copyGroup(ScriptGroup copyFrom) {\n+    ScriptGroup sg = ScriptGroup.builder().name(copyFrom.getName()).loop(copyFrom.getLoop()).build();\n+    for (ScriptGroupStep step : copyFrom.getScriptGroupSteps()) {\n+        sg.addScriptGroupStep(copyStep(step));\n     }\n+    return sg;\n+}\n+\n+private ScriptGroupStep copyStep(ScriptGroupStep copyFrom) {\n+    ScriptGroupStep step = ScriptGroupStep.builder().loop(copyFrom.getLoop()).script(copyFrom.getScript()).build();\n+    return step;\n+}\n \n }\n",
            "diff_size": 64
        }
    ]
}