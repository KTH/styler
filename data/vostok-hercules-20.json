{
    "error_id": "20",
    "information": {
        "errors": [
            {
                "line": "176",
                "column": "52",
                "severity": "warning",
                "message": "'{' is not followed by whitespace.",
                "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.WhitespaceAroundCheck"
            }
        ]
    },
    "source_code": "                            for (ConsumerRecord<UUID, Event> record : records) {\n                                Event event = record.value();\n                                if (event == null) {// Received non-deserializable data, should be ignored\n                                    droppedEvents++;\n                                    continue;\n                                }",
    "results": [
        {
            "tool": "styler",
            "errors": [],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/20/Sink.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/styler/20/Sink.java\nindex 8d1291b3f3..d7790c3136 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/20/Sink.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/styler/20/Sink.java\n@@ -173,7 +173,7 @@ public class Sink {\n                             List<ConsumerRecord<UUID, Event>> records = pollResult.records(partition);\n                             for (ConsumerRecord<UUID, Event> record : records) {\n                                 Event event = record.value();\n-                                if (event == null) {// Received non-deserializable data, should be ignored\n+                                if (event == null) { // Received non-deserializable data, should be ignored\n                                     droppedEvents++;\n                                     continue;\n                                 }\n",
            "diff_size": 1
        },
        {
            "tool": "intellij",
            "errors": [
                {
                    "line": "176",
                    "column": "52",
                    "severity": "warning",
                    "message": "'{' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.WhitespaceAroundCheck"
                }
            ],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/20/Sink.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/intellij/20/Sink.java\nindex 8d1291b3f3..9d6af7119a 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/20/Sink.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/intellij/20/Sink.java\n@@ -59,13 +59,13 @@ public class Sink {\n     private final Meter totalEventsMeter;\n \n     public Sink(\n-            ExecutorService executor,\n-            String applicationId,\n-            Properties properties,\n-            Processor processor,\n-            List<PatternMatcher> patternMatchers,\n-            EventDeserializer deserializer,\n-            MetricsCollector metricsCollector) {\n+        ExecutorService executor,\n+        String applicationId,\n+        Properties properties,\n+        Processor processor,\n+        List<PatternMatcher> patternMatchers,\n+        EventDeserializer deserializer,\n+        MetricsCollector metricsCollector) {\n         this.executor = executor;\n         this.applicationId = applicationId;\n         this.properties = properties;\n@@ -252,23 +252,23 @@ public class Sink {\n \n     private static class Props {\n         static final PropertyDescription<Long> POLL_TIMEOUT_MS =\n-                PropertyDescriptions.longProperty(\"pollTimeoutMs\").\n-                        withDefaultValue(6_000L).\n-                        build();\n+            PropertyDescriptions.longProperty(\"pollTimeoutMs\").\n+                withDefaultValue(6_000L).\n+                build();\n \n         static final PropertyDescription<Integer> BATCH_SIZE =\n-                PropertyDescriptions.integerProperty(\"batchSize\").\n-                        withDefaultValue(1000).\n-                        build();\n+            PropertyDescriptions.integerProperty(\"batchSize\").\n+                withDefaultValue(1000).\n+                build();\n \n         static final PropertyDescription<String> GROUP_ID =\n-                PropertyDescriptions.stringProperty(\"groupId\").\n-                        withDefaultValue(null).\n-                        build();\n+            PropertyDescriptions.stringProperty(\"groupId\").\n+                withDefaultValue(null).\n+                build();\n \n         static final PropertyDescription<Long> AVAILABILITY_TIMEOUT_MS =\n-                PropertyDescriptions.longProperty(\"availabilityTimeoutMs\").\n-                        withDefaultValue(2_000L).\n-                        build();\n+            PropertyDescriptions.longProperty(\"availabilityTimeoutMs\").\n+                withDefaultValue(2_000L).\n+                build();\n     }\n }\n",
            "diff_size": 19
        },
        {
            "tool": "naturalize",
            "errors": [],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/20/Sink.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/naturalize/20/Sink.java\nindex 8d1291b3f3..82a8acf8f9 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/20/Sink.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/naturalize/20/Sink.java\n@@ -66,7 +66,7 @@ public class Sink {\n             List<PatternMatcher> patternMatchers,\n             EventDeserializer deserializer,\n             MetricsCollector metricsCollector) {\n-        this.executor = executor;\n+    this.executor = executor;\n         this.applicationId = applicationId;\n         this.properties = properties;\n         this.processor = processor;\n@@ -147,8 +147,7 @@ public class Sink {\n         while (isRunning()) {\n             try {\n                 if (processor.isAvailable()) {\n-\n-                    subscribe();\n+    subscribe();\n \n                     while (processor.isAvailable()) {\n                         ConsumerRecords<UUID, Event> pollResult;\n@@ -173,7 +172,7 @@ public class Sink {\n                             List<ConsumerRecord<UUID, Event>> records = pollResult.records(partition);\n                             for (ConsumerRecord<UUID, Event> record : records) {\n                                 Event event = record.value();\n-                                if (event == null) {// Received non-deserializable data, should be ignored\n+                                if (event == null) { // Received non-deserializable data, should be ignored\n                                     droppedEvents++;\n                                     continue;\n                                 }\n@@ -252,23 +251,15 @@ public class Sink {\n \n     private static class Props {\n         static final PropertyDescription<Long> POLL_TIMEOUT_MS =\n-                PropertyDescriptions.longProperty(\"pollTimeoutMs\").\n-                        withDefaultValue(6_000L).\n-                        build();\n+                PropertyDescriptions.longProperty(\"pollTimeoutMs\").withDefaultValue(6_000L).build();\n \n         static final PropertyDescription<Integer> BATCH_SIZE =\n-                PropertyDescriptions.integerProperty(\"batchSize\").\n-                        withDefaultValue(1000).\n-                        build();\n+                PropertyDescriptions.integerProperty(\"batchSize\").withDefaultValue(1000).build();\n \n         static final PropertyDescription<String> GROUP_ID =\n-                PropertyDescriptions.stringProperty(\"groupId\").\n-                        withDefaultValue(null).\n-                        build();\n+                PropertyDescriptions.stringProperty(\"groupId\").withDefaultValue(null).build();\n \n         static final PropertyDescription<Long> AVAILABILITY_TIMEOUT_MS =\n-                PropertyDescriptions.longProperty(\"availabilityTimeoutMs\").\n-                        withDefaultValue(2_000L).\n-                        build();\n+                PropertyDescriptions.longProperty(\"availabilityTimeoutMs\").withDefaultValue(2_000L).build();\n     }\n-}\n+}\n\\ No newline at end of file\n",
            "diff_size": 17
        },
        {
            "tool": "codebuff",
            "errors": [
                {
                    "line": "187",
                    "column": "52",
                    "severity": "warning",
                    "message": "'{' is not followed by whitespace.",
                    "source": "com.puppycrawl.tools.checkstyle.checks.whitespace.WhitespaceAroundCheck"
                }
            ],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/20/Sink.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/codebuff/20/Sink.java\nindex 8d1291b3f3..a9ca4d4943 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/20/Sink.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/codebuff/20/Sink.java\n@@ -21,7 +21,6 @@ import ru.kontur.vostok.hercules.util.PatternMatcher;\n import ru.kontur.vostok.hercules.util.properties.PropertyDescription;\n import ru.kontur.vostok.hercules.util.properties.PropertyDescriptions;\n import ru.kontur.vostok.hercules.util.text.StringUtil;\n-\n import java.time.Duration;\n import java.util.ArrayList;\n import java.util.List;\n@@ -35,43 +34,54 @@ import java.util.regex.Pattern;\n /**\n  * @author Gregory Koshelev\n  */\n+\n+\n public class Sink {\n     private static final Logger LOGGER = LoggerFactory.getLogger(Sink.class);\n \n     private volatile boolean running = false;\n \n     private final ExecutorService executor;\n+\n     private final String applicationId;\n+\n     private final Properties properties;\n+\n     private final Processor processor;\n+\n     private final List<PatternMatcher> patternMatchers;\n \n     private final Duration pollTimeout;\n+\n     private final int batchSize;\n+\n     private final long availabilityTimeoutMs;\n \n     private final Pattern pattern;\n+\n     private final KafkaConsumer<UUID, Event> consumer;\n \n     private final Meter droppedEventsMeter;\n+\n     private final Meter processedEventsMeter;\n+\n     private final Meter rejectedEventsMeter;\n+\n     private final Meter totalEventsMeter;\n \n     public Sink(\n-            ExecutorService executor,\n-            String applicationId,\n-            Properties properties,\n-            Processor processor,\n-            List<PatternMatcher> patternMatchers,\n-            EventDeserializer deserializer,\n-            MetricsCollector metricsCollector) {\n+        ExecutorService executor,\n+        String applicationId,\n+        Properties properties,\n+        Processor processor,\n+        List<PatternMatcher> patternMatchers,\n+        EventDeserializer deserializer, MetricsCollector metricsCollector\n+    ) {\n         this.executor = executor;\n         this.applicationId = applicationId;\n         this.properties = properties;\n         this.processor = processor;\n         this.patternMatchers = patternMatchers;\n-\n         this.pollTimeout = Duration.ofMillis(Props.POLL_TIMEOUT_MS.extract(properties));\n         this.batchSize = Props.BATCH_SIZE.extract(properties);\n         this.availabilityTimeoutMs = Props.AVAILABILITY_TIMEOUT_MS.extract(properties);\n@@ -92,7 +102,6 @@ public class Sink {\n         EventDeserializer valueDeserializer = deserializer;\n \n         this.consumer = new KafkaConsumer<>(consumerProperties, keyDeserializer, valueDeserializer);\n-\n         droppedEventsMeter = metricsCollector.meter(\"droppedEvents\");\n         processedEventsMeter = metricsCollector.meter(\"processedEvents\");\n         rejectedEventsMeter = metricsCollector.meter(\"rejectedEvents\");\n@@ -102,15 +111,16 @@ public class Sink {\n     /**\n      * Start sink.\n      */\n+\n     public final void start() {\n         running = true;\n-\n         executor.execute(this::run);\n     }\n \n     /**\n      * Stop Sink.\n      */\n+\n     public final void stop() {\n         running = false;\n \n@@ -118,12 +128,14 @@ public class Sink {\n             consumer.wakeup();\n         } catch (Exception ex) {\n             /* ignore */\n+\n         }\n \n         try {\n             consumer.close();\n         } catch (Exception ex) {\n             /* ignore */\n+\n         }\n \n         postStop();\n@@ -134,6 +146,7 @@ public class Sink {\n      *\n      * @return {@code true} if Sink is running and {@code false} if Sink is stopping\n      */\n+\n     public final boolean isRunning() {\n         return running;\n     }\n@@ -143,11 +156,11 @@ public class Sink {\n      * <p>\n      * Sink awaits availability of {@link Processor}. Also, it controls {@link #isRunning()} during operations.\n      */\n+\n     public final void run() {\n         while (isRunning()) {\n             try {\n                 if (processor.isAvailable()) {\n-\n                     subscribe();\n \n                     while (processor.isAvailable()) {\n@@ -166,9 +179,7 @@ public class Sink {\n                         // ConsumerRecords::count works for O(n), where n is partition count\n                         int eventCount = pollResult.count();\n                         List<Event> events = new ArrayList<>(eventCount);\n-\n                         int droppedEvents = 0;\n-\n                         for (TopicPartition partition : partitions) {\n                             List<ConsumerRecord<UUID, Event>> records = pollResult.records(partition);\n                             for (ConsumerRecord<UUID, Event> record : records) {\n@@ -177,6 +188,7 @@ public class Sink {\n                                     droppedEvents++;\n                                     continue;\n                                 }\n+\n                                 events.add(event);\n                             }\n                         }\n@@ -209,6 +221,8 @@ public class Sink {\n     /**\n      * Perform additional stop operations when Event consuming was terminated.\n      */\n+\n+\n     protected void postStop() {\n \n     }\n@@ -216,6 +230,8 @@ public class Sink {\n     /**\n      * Subscribe Sink. Should be called before polling\n      */\n+\n+\n     protected final void subscribe() {\n         consumer.subscribe(pattern);\n     }\n@@ -223,12 +239,16 @@ public class Sink {\n     /**\n      * Unsubscribe Sink. Should be called if Sink cannot process Events.\n      */\n+\n+\n     protected final void unsubscribe() {\n         LOGGER.debug(\"Sink unsubscribe if any\");\n+\n         try {\n             consumer.unsubscribe();\n         } catch (Exception ex) {\n             /* ignore */\n+\n         }\n     }\n \n@@ -238,37 +258,37 @@ public class Sink {\n      * @return polled Events\n      * @throws WakeupException if poll terminated due to shutdown\n      */\n+\n+\n     protected final ConsumerRecords<UUID, Event> poll() throws WakeupException {\n         return consumer.poll(pollTimeout);\n     }\n \n+\n     protected final void commit() {\n         consumer.commitSync();\n     }\n \n+\n     protected final void commit(Map<TopicPartition, OffsetAndMetadata> offsets) {\n         consumer.commitSync(offsets);\n     }\n \n     private static class Props {\n-        static final PropertyDescription<Long> POLL_TIMEOUT_MS =\n-                PropertyDescriptions.longProperty(\"pollTimeoutMs\").\n-                        withDefaultValue(6_000L).\n-                        build();\n-\n-        static final PropertyDescription<Integer> BATCH_SIZE =\n-                PropertyDescriptions.integerProperty(\"batchSize\").\n-                        withDefaultValue(1000).\n-                        build();\n-\n-        static final PropertyDescription<String> GROUP_ID =\n-                PropertyDescriptions.stringProperty(\"groupId\").\n-                        withDefaultValue(null).\n-                        build();\n-\n-        static final PropertyDescription<Long> AVAILABILITY_TIMEOUT_MS =\n-                PropertyDescriptions.longProperty(\"availabilityTimeoutMs\").\n-                        withDefaultValue(2_000L).\n-                        build();\n+        static final PropertyDescription<Long> POLL_TIMEOUT_MS = PropertyDescriptions.longProperty(\"pollTimeoutMs\")\n+        .withDefaultValue(6_000L)\n+        .build();\n+\n+        static final PropertyDescription<Integer> BATCH_SIZE = PropertyDescriptions.integerProperty(\"batchSize\")\n+        .withDefaultValue(1000)\n+        .build();\n+\n+        static final PropertyDescription<String> GROUP_ID = PropertyDescriptions.stringProperty(\"groupId\")\n+        .withDefaultValue(null)\n+        .build();\n+\n+        static final PropertyDescription<Long> AVAILABILITY_TIMEOUT_MS = PropertyDescriptions.longProperty(\"availabilityTimeoutMs\")\n+        .withDefaultValue(2_000L)\n+        .build();\n     }\n-}\n+}\n\\ No newline at end of file\n",
            "diff_size": 65
        },
        {
            "tool": "styler_random",
            "errors": [],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/20/Sink.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/styler_random/20/Sink.java\nindex 8d1291b3f3..d7790c3136 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/20/Sink.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/styler_random/20/Sink.java\n@@ -173,7 +173,7 @@ public class Sink {\n                             List<ConsumerRecord<UUID, Event>> records = pollResult.records(partition);\n                             for (ConsumerRecord<UUID, Event> record : records) {\n                                 Event event = record.value();\n-                                if (event == null) {// Received non-deserializable data, should be ignored\n+                                if (event == null) { // Received non-deserializable data, should be ignored\n                                     droppedEvents++;\n                                     continue;\n                                 }\n",
            "diff_size": 1
        },
        {
            "tool": "styler_three_grams",
            "errors": [],
            "diff": "diff --git a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/20/Sink.java b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/styler_three_grams/20/Sink.java\nindex 8d1291b3f3..d7790c3136 100644\n--- a/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/errored/1/20/Sink.java\n+++ b/home/thomas/mnt/fernanda/styler-test2/python/./experiments/projects/../results/vostok-hercules/styler_three_grams/20/Sink.java\n@@ -173,7 +173,7 @@ public class Sink {\n                             List<ConsumerRecord<UUID, Event>> records = pollResult.records(partition);\n                             for (ConsumerRecord<UUID, Event> record : records) {\n                                 Event event = record.value();\n-                                if (event == null) {// Received non-deserializable data, should be ignored\n+                                if (event == null) { // Received non-deserializable data, should be ignored\n                                     droppedEvents++;\n                                     continue;\n                                 }\n",
            "diff_size": 1
        }
    ]
}